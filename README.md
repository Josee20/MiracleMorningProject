# ê°œë°œ ê³µìˆ˜

## ğŸ“… ì´í„°ë ˆì´ì…˜ 1 (9/8 ~ 9/11)
| 9/8(ëª©) | 9/9(ê¸ˆ) | 9/10(í† ) | 9/11(ì¼) | 
| --- | --- | --- | --- | 
|íœ´ì‹| íœ´ì‹  | íœ´ì‹    |    1P íƒ­ë°”(1ì‹œê°„)  | 
|  |  |  | 1P UI(2ì‹œê°„) |
|  |  |  | í—¤ë”ë·°(1ì‹œê°„) |
|  |  |  | ì¢Œì¸¡ìƒë‹¨ì‹œê°„(2ì‹œê°„) |

## ğŸ“… ì´í„°ë ˆì´ì…˜ 2 (9/12 ~ 9/14)
| 9/12(ì›”) | 9/13(í™”) | 9/14(ìˆ˜) |  
| --- | --- | --- | 
| 3P UI + Circular Progress(5ì‹œê°„)   | 3P ë…¸í‹°í”¼ì¼€ì´ì…˜(2ì‹œê°„)    |  4P UI(4ì‹œê°„)   |  
|2P ë²„íŠ¼ ì„ íƒ(2ì‹œê°„) | 2P ì–¼ëŸ¿ + ë°ì´íŠ¸í”¼ì»¤(3ì‹œê°„)| ë°ì´í„° ìŠ¤í‚¤ë§ˆ(2ì‹œê°„)|
|2P ë¯¸ì…˜ í…ìŠ¤íŠ¸í•„ë“œ(1ì‹œê°„) |2P ì˜ˆì™¸ì²˜ë¦¬(1ì‹œê°„)||


## ğŸ“… ì´í„°ë ˆì´ì…˜ 3 (9/15 ~ 9/18)
| 9/15(ëª©) | 9/16(ê¸ˆ) | 9/17(í† ) | 9/18(ì¼) | 
| --- | --- | --- | --- | 
| ìº˜ë¦°ë” í•˜ë‹¨ list(3ì‹œê°„)    | í†µê³„ìˆ˜ì¹˜(3ì‹œê°„)    |  ê°œì¸ì •ë³´ê¸°ëŠ¥(2ì‹œê°„)   |  íœ´ì‹   | 
| 5P UI(3ì‹œê°„)   |  6P + ì„¸ë¶€í•­ëª© UI(3ì‹œê°„)   | ë°±ì—…ê¸°ëŠ¥(4ì‹œê°„)    |  |

## ğŸ“… ì´í„°ë ˆì´ì…˜ 4 (9/19 ~ 9/21)
| 9/19(ì›”) | 9/20(í™”) | 9/21(ìˆ˜) |  
| --- | --- | --- | 
|  ë°©í•´ê¸ˆì§€ëª¨ë“œ(3ì‹œê°„)   | ì—°ì†ì„±ê³µì¼ì— ë§ì¶° ìºë¦­í„°ë³€ê²½(3ì‹œê°„)    | 1P, 3P í™•ì¸(3ì‹œê°„)    |  
| ìºë¦­í„° UI(3ì‹œê°„)| 1P, 2P í™•ì¸(3ì‹œê°„) | 4P í™•ì¸(3ì‹œê°„) |

## ğŸ“… ì´í„°ë ˆì´ì…˜ 5 (9/22 ~ 9/25)
| 9/22(ëª©) | 9/23(ê¸ˆ) | 9/24(í† ) | 9/25(ì¼) | 
| --- | --- | --- | --- | 
|  4P í™•ì¸(3ì‹œê°„)   |  ë°±ì—…í™•ì¸(3ì‹œê°„)   |  ë¦¬íŒ©í† ë§(6ì‹œê°„)  | íœ´ì‹    | 
| 5P í™•ì¸(3ì‹œê°„) | ë°©í•´ê¸ˆì§€ëª¨ë“œ í™•ì¸(1ì‹œê°„) | | |
||6P ë‚˜ë¨¸ì§€í™•ì¸(2ì‹œê°„)|||

## ğŸ“… ì´í„°ë ˆì´ì…˜ 6 (9/26 ~ 9/28)
| 9/26(ì›”) | 9/27(í™”) | 9/28(ìˆ˜) |  
| --- | --- | --- | 
| ë¦¬íŒ©í† ë§(6ì‹œê°„)    |  ë¦¬íŒ©í† ë§(6ì‹œê°„)   |  ë¦¬íŒ©í† ë§(6ì‹œê°„)   |  

## ğŸ“… ì´í„°ë ˆì´ì…˜ 7 (9/29 ~ 10/2)
| 9/29(ëª©) | 9/30(ê¸ˆ) | 10/1(í† ) | 10/2(ì¼) | 
| --- | --- | --- | --- | 
|  ë¦¬íŒ©í† ë§(6ì‹œê°„)   |  ë¦¬íŒ©í† ë§(6ì‹œê°„)   |  ë¦¬íŒ©í† ë§(6ì‹œê°„)   |   ë¦¬íŒ©í† ë§(6ì‹œê°„)  | 

## ğŸ“… ì´í„°ë ˆì´ì…˜ 8 (10/3 ~ 10/5)
| 10/3(ì›”) | 10/4(í™”) | 10/5(ìˆ˜) |  
| --- | --- | --- | 
|   ë¦¬íŒ©í† ë§(6ì‹œê°„)  |  ë¦¬íŒ©í† ë§(6ì‹œê°„)   | ë¦¬íŒ©í† ë§(6ì‹œê°„)    |  

___

# ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
1. FSCalendar
2. SnapKit
3. RealmSwift

___

# 220911


## 1. ìƒë‹¨ ìƒíƒœë°”(ì‹œê°„, ì™€ì´íŒŒì´, ë°°í„°ë¦¬) ë“± ì§€ìš°ëŠ” ë²•

ìƒë‹¨ ìŠ¤í…Œì´í„°ìŠ¤ ë°”ë¥¼ ì—†ì•  ì¡°ê¸ˆ ê¹”ë”í•œ? UIë¥¼ ì£¼ê³  ì‹¶ì–´ ì§€ì› ë‹¤.

ë…¸ì¹˜ê°€ ìˆëŠ” ê¸°ì¢…ì—ì„  ì•ˆ ì§€ì›Œ ì§€ëŠ” ê²ƒ ê°™ë‹¤.

```swift
override var prefersStatusBarHidden: Bool {
	return true
}
```


## 2. Timer

ì‹œê°„ì„ ë‚˜íƒ€ë‚´ì£¼ëŠ”ë° ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í•´ì¤„ í•„ìš”ê°€ ìˆë‹¤ê³  ìƒê°í•´ Timerë¥¼ ì‚¬ìš©í–ˆë‹¤.

â ì•„ì§ ì •í™•í•˜ê²Œ ì‹¤ì‹œê°„ ì‹œê°„ìœ¼ë¡œ ë–¨ì–´ì§€ì§€ ì•ŠìŒ(60ì´ˆ ë‹¨ìœ„ë¡œ ì—…ë°ì´íŠ¸)

-> í•´ê²° : timeIntervalì„ 1ë¡œ ë§ì¶°ì£¼ë©´ 1ì´ˆë§ˆë‹¤ ì‹œê°„ì— ë§ì¶° ê°±ì‹ ë˜ê¸° ë•Œë¬¸ì— ì •í™•íˆ ì‹œê°„ì„ ë§ì¶°ì„œ ë„ì›Œì¤„ ìˆ˜ ìˆë‹¤.

```swift
class FirstViewController: BaseViewController {
        
    var timer: Timer?
    
    override func viewDidLoad() {
        super.viewDidLoad()

		// 1ì´ˆ ê°„ê²©ìœ¼ë¡œ getCurrentTime ë©”ì†Œë“œ ì‹¤í–‰
		// ì‹¤ì‹œê°„ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
        timer = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(getCurrentTime), userInfo: nil, repeats: true)
        
    }
    
    override func viewWillDisappear(_ animated: Bool) {
        super.viewWillDisappear(animated)
        
        timer?.invalidate()
    }
    
    override func configure() {
        getCurrentTime()
    }

	// ë ˆì´ë¸”ì— ì‹œê°„ ë‚˜íƒ€ë‚´ì£¼ëŠ” ë©”ì†Œë“œ
    @objc func getCurrentTime() {
        mainView.presentTimeLabel.text = DateFormatChange.shared.fullDate.string(from: Date())
    }
}
```


## í—¤ë”ë·° ë ˆì´ë¸” ë‹¬ê¸°

```swift
func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {

	let headerView = UIView()
	headerView.frame = CGRect(x: 0, y: 0, width: self.view.frame.width, height: 40)

	let titleLabel = UILabel()
	titleLabel.text = "í•  ì¼"
	titleLabel.textColor = .black
	titleLabel.font = .boldSystemFont(ofSize: 20)
	titleLabel.frame = CGRect(x: 0, y: 0, width: headerView.frame.width, height: headerView.frame.height)
	headerView.addSubview(titleLabel)

	return headerView
}
```
___

# 220912


## 1. circular progress view 

- loadviewë¡œ ë·°ë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ ë·°ê°€ ê²¹ì¹˜ê¸° ë•Œë¬¸ì— ì•ˆ ë¨
- ë•Œë¬¸ì— ë·°ì»¨íŠ¸ë¡¤ëŸ¬ì— ë‚˜ë¨¸ì§€ ë·°ë¥¼ ë„£ì–´ì¤Œ

```swift
// In TimerView
final class TimerView: BaseView {
    
    private enum Const {
        static let progressLineWidth = 10.0
        static let backgroundLineWidth = progressLineWidth - 5.0
        static let startAngle = CGFloat(-Double.pi / 2)
        static let endAngle = CGFloat(3 * Double.pi / 2)
        static let backgroundStrokeColor = UIColor.systemGray.cgColor
        static let progressStrokeColor = UIColor.systemOrange.cgColor
    }
    
    private let backgroundLayer: CAShapeLayer = {
        let layer = CAShapeLayer()
        layer.lineWidth = Const.backgroundLineWidth
        layer.strokeEnd = 1
        layer.fillColor = UIColor.clear.cgColor
        layer.strokeColor = Const.backgroundStrokeColor
        return layer
    }()
    
    private let progressLayer: CAShapeLayer = {
        let layer = CAShapeLayer()
        layer.lineWidth = Const.progressLineWidth
        layer.strokeEnd = 0
        layer.fillColor = UIColor.clear.cgColor
        layer.strokeColor = Const.progressStrokeColor
        return layer
    }()
    
    private var circularPath: UIBezierPath {
        UIBezierPath(
            arcCenter: CGPoint(x: self.frame.size.width / 2, y: self.frame.size.height / 2),
            radius: self.frame.size.width / 2,
            startAngle: Const.startAngle,
            endAngle: Const.endAngle,
            clockwise: true
        )
    }
    
    var backgroundLayerColor: CGColor? {
        get { self.backgroundLayer.strokeColor }
        set { self.backgroundLayer.strokeColor = newValue }
    }
    var progressLayerColor: CGColor? {
        get { self.progressLayer.strokeColor }
        set { self.progressLayer.strokeColor = newValue }
    }
    var lineWidth: CGFloat {
        get { self.backgroundLayer.lineWidth }
        set { self.backgroundLayer.lineWidth = newValue }
    }
    
    required init() {
        super.init(frame: .zero)
        
        self.backgroundColor = .clear
        self.backgroundLayer.path = self.circularPath.cgPath
        self.progressLayer.path = self.circularPath.cgPath
        
        self.layer.addSublayer(self.backgroundLayer)
        self.layer.addSublayer(self.progressLayer)
    }
    
    override func layoutSublayers(of layer: CALayer) {
        super.layoutSublayers(of: layer)
        
        self.backgroundLayer.path = self.circularPath.cgPath
        self.progressLayer.path = self.circularPath.cgPath
    }

    required init?(coder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
    
    func start(duration: TimeInterval) {
        self.progressLayer.removeAnimation(forKey: "progress")
        let circularProgressAnimation = CABasicAnimation(keyPath: "strokeEnd")
        circularProgressAnimation.duration = duration
        circularProgressAnimation.toValue = 1.0
        circularProgressAnimation.fillMode = .forwards
        circularProgressAnimation.isRemovedOnCompletion = false
        self.progressLayer.add(circularProgressAnimation, forKey: "progress")
    }
}

// In ViewController
class TimerViewController: BaseViewController {
    
    let timeLabel = UILabel()
    
    var leftTime: Int = 10
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        self.view.backgroundColor = .systemBackground
        self.addTimerView(on: self.timeLabel)
        
        self.timeLabel.textAlignment = .center
        self.timeLabel.font = .boldSystemFont(ofSize: 40)
        
        self.view.addSubview(self.timeLabel)
        self.timeLabel.translatesAutoresizingMaskIntoConstraints = false
        NSLayoutConstraint.activate([
            self.timeLabel.heightAnchor.constraint(equalToConstant: 300),
            self.timeLabel.widthAnchor.constraint(equalToConstant: 300),
            self.timeLabel.centerYAnchor.constraint(equalTo: self.view.centerYAnchor),
            self.timeLabel.centerXAnchor.constraint(equalTo: self.view.centerXAnchor),
        ])
        
        // MARK: íƒ€ì´ë¨¸
        Timer.scheduledTimer(withTimeInterval: 1, repeats: true, block: { (t) in
            
            self.leftTime -= 1
            
            let minute = self.leftTime / 60
            let second = self.leftTime % 60
            
            if self.leftTime > 0 {
                self.timeLabel.text = String(format: "%02d:%02d", minute, second)
            } else {
                self.timeLabel.text = "ë!"
                self.okButton.layer.borderColor = UIColor.systemOrange.cgColor
                self.okButton.backgroundColor = .systemOrange
                self.okButton.isUserInteractionEnabled = true
            }
        })
    }
    
    private func addTimerView(on subview: UIView) {
        let timerView = TimerView()
        subview.addSubview(timerView)
        timerView.translatesAutoresizingMaskIntoConstraints = false
        NSLayoutConstraint.activate([
            timerView.leftAnchor.constraint(equalTo: subview.leftAnchor),
            timerView.rightAnchor.constraint(equalTo: subview.rightAnchor),
            timerView.bottomAnchor.constraint(equalTo: subview.bottomAnchor),
            timerView.topAnchor.constraint(equalTo: subview.topAnchor),
        ])
        timerView.start(duration: Double(leftTime))
    }
}

final class RoundLabel: UILabel {

    override func layoutSubviews() {
        super.layoutSubviews()
        
        self.clipsToBounds = true
        self.layer.cornerRadius = self.bounds.height / 2.0

    }
}
```


## 2. multiple button click and change background color

![[ìŠ¤í¬ë¦°ìƒ· 2022-09-13 ì˜¤ì „ 3.24.57.png | 300]]


### ì¤‘ìš”ì‚¬í•­

1. ë²„íŠ¼ì— íƒœê·¸ ì§€ì •í•´ì£¼ê¸°( íƒœê·¸ëŠ” ìƒì¡´ë²”ìœ„ë¥¼ ë²—ì–´ë‚œë‹¤ê³ í•´ì„œ ì‚¬ë¼ì§€ì§€ ì•ŠìŒ)
2. senderë¡œ ë°›ê¸°

```swift
// load Viewì— íƒœê·¸ì§€ì •(ë·°ë¥¼ ê·¸ë ¤ì•¼ íƒœê·¸?ë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ê±° ê°™ìŒ)
override func loadView() {
	self.view = mainView

	// ë²„íŠ¼ì— tag ë¶€ì—¬
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	for i in 0...6 {
		dayButtonArr[i].tag = i
	}
}

// ê°ê° ë²„íŠ¼ì—ê²Œ addTarget ë¶€ì—¬
override func configure() {
        
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	for i in 0..<dayButtonArr.count {
		dayButtonArr[i].addTarget(self, action: #selector(dayButtonClicked), for: .touchUpInside)
	}
}

// sender.tagë¡œ ë°›ì•„ì„œ ë°±ê·¸ë¼ìš´ë“œ ì»¬ëŸ¬ ë³€ê²½
@objc func dayButtonClicked(sender: UIButton) {
	
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	if dayButtonArr[sender.tag].backgroundColor == UIColor.gray {
		dayButtonArr[sender.tag].backgroundColor = .orange
	} else if dayButtonArr[sender.tag].backgroundColor == UIColor.orange {
		dayButtonArr[sender.tag].backgroundColor = .gray
	}
}

```

___

# 220913


## 1. Notification

1.  ì²˜ìŒ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ì— notificationCenter ì´ˆê¸°í™”(ì‹±ê¸€í†¤ íŒ¨í„´)
2.  requestNotificationAuthorizationìœ¼ë¡œ ì²˜ìŒì— ì•Œë¦¼ ê¶Œí•œ ì„¤ì •

```swift
class FirstViewController: BaseViewController {
    
    let notificationCenter = UNUserNotificationCenter.current()
    
    override func loadView() {
        self.view = mainView
    }
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        requestNotificationAuthorization()
    }
    
    func requestNotificationAuthorization() {

        notificationCenter.requestAuthorization(options: [.alert, .sound]) { success, error in
            if let error = error {
                print(error)
            }
        }
    }
}
```


3. ì•ŒëŒ ë‚˜íƒ€ë‚´ê³  ì‹¶ì€ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ì— notificationCenter ë‹¤ì‹œì´ˆê¸°í™”
4. callNotification í•¨ìˆ˜ ë§Œë“¤ì–´ì£¼ê¸°

```swift
class TimerViewController: BaseViewController {
    
    let notificationCenter = UNUserNotificationCenter.current()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        self.callNotification(time: 1, title: "ë¯¸ì…˜ ì™„ë£Œ!!!", body: "ë‹¤ìŒ ë¯¸ì…˜ë„ ì™„ìˆ˜í•´ì£¼ì„¸ìš”~~\në‹¤ ë§ˆì¹˜ì…¨ë‹¤ë©´ ë‹¹ì‹ ì€ ë©‹ìŸì´!!!")
        
        UNUserNotificationCenter.current().requestAuthorization(options: [.alert, .sound]) { success, error in
            print(error)
        }
    }
    
    func callNotification(time: Double, title: String, body: String) {
        notificationCenter.removeAllPendingNotificationRequests()
        
        let content = UNMutableNotificationContent()
        content.title = title
        content.body = body
        content.sound = .defaultCritical
        content.badge = 2
        
        let trigger = UNTimeIntervalNotificationTrigger(timeInterval: time, repeats: false)
        
        let request = UNNotificationRequest(identifier: "notification", content: content, trigger: trigger)
        
        UNUserNotificationCenter.current().add(request) { error in
            guard let error = error else { return }
            print(error)
        }
    }
}
```



## 2. Alert + DatePicker

1.  UIDatePicker() ì´ˆê¸°í™” í›„ ìŠ¤íƒ€ì¼ ì¡ì•„ì£¼ê¸°
2. UIAlertController ì´ˆê¸°í™” í›„ ì„œë¸Œ ë·°ë¡œ datePicker ë„£ì–´ì£¼ê¸°
3. ë ˆì´ì•„ì›ƒ ì¡ì•„ì£¼ê³  ì–¼ëŸ¿ ì•¡ì…˜ ì¶”ê°€í•´ì£¼ê¸°
4. okë²„íŠ¼ í´ë¦­ì‹œ ì‹œê°„ì„ íƒ ë²„íŠ¼ íƒ€ì´í‹€ í•´ë‹¹ ì‹œê°„ì„ ì„ íƒí•œ ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•´ì£¼ê¸°

```swift
@objc func setStartTimeButtonClicked(sender: UIDatePicker) {
	
	let datePicker = UIDatePicker()
	
	datePicker.datePickerMode = .time
	datePicker.preferredDatePickerStyle = .wheels
	datePicker.locale = NSLocale(localeIdentifier: "ko-KR") as Locale
	
	let alert = UIAlertController(title: "\n\n\n\n\n\n\n\n\n\n\n", message: nil, preferredStyle: .actionSheet)
	
	alert.view.addSubview(datePicker)
	
	datePicker.snp.makeConstraints {
		$0.centerX.equalTo(alert.view)
		$0.top.equalTo(alert.view).offset(8)
	}
	
	let ok = UIAlertAction(title: "í™•ì¸", style: .default) { (action) in
		let dateString = DateFormatChange.shared.dateOfHourAndPM.string(from: datePicker.date)
		self.mainView.setStartTimeButton.setTitle(dateString, for: .normal)
		self.mainView.setStartTimeButton.setTitleColor(.systemBlue, for: .normal)
	}
	
	let cancel = UIAlertAction(title: "ì·¨ì†Œ", style: .cancel, handler: nil)
	
	alert.addAction(ok)
	alert.addAction(cancel)
	
	present(alert, animated: true, completion: nil)
}
```
___

# 220914

## 1. CollectionView

<img width="669" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-14 á„‹á…©á„’á…® 10 38 08" src="https://user-images.githubusercontent.com/92367484/190170742-2e358b39-679b-4686-ad33-57795f224fd2.png">

ì½”ë“œë² ì´ìŠ¤ë¡œ ì»¬ë ‰ì…˜ë·°ë¥¼ í…Œì´ë¸”ë·°ì™€ ê°™ì´ ì¶”ê°€í•´ ì£¼ë ¤ í–ˆìœ¼ë‚˜ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.

ë¬´ìŠ¨ ì´ìœ ì¸ì§€ ì•Œì•„ë³´ë‹ˆ ì»¬ë ‰ì…˜ë·°ëŠ” ë ˆì´ì•„ì›ƒì´ ì—†ì´ ì´ˆê¸°í™”ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.

ì¦‰ collectionViewëŠ” TableViewì™€ ë‹¤ë¥´ê²Œ ë·°ê°ì²´ë¥¼ ë§Œë“¤ê¸°ì „ì— ë ˆì´ì•„ì›ƒì„ ë‹¤ ì§€ì •í•´ì£¼ì–´ì•¼í•œë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ë‹¤.

```swift
public let collectionView: UICollectionView = {
	let layout = UICollectionViewFlowLayout()
	let space: CGFloat = 4
	let width = UIScreen.main.bounds.width - (space * 7)
	let height = width

	layout.itemSize = CGSize(width: width / 6, height: width / 6)
	layout.scrollDirection = .horizontal
	layout.sectionInset = UIEdgeInsets(top: space, left: space, bottom: space, right: space)
	layout.minimumLineSpacing = space
	layout.minimumInteritemSpacing = space
	
	let view = UICollectionView(frame: .zero, collectionViewLayout: layout)
	
	return view
}()
```



##  2. TableView

ì¶”ê°€í•œ ìŠ¤ì¼€ì¥´ì„ ìœ ì €ê°€ ìº˜ë¦°ë”ì—ì„œ í´ë¦­ ì‹œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸°ìœ„í•´ í…Œì´ë¸” ë·°ë¡œ ì‘ì„±í–ˆë‹¤.

ì•„ì§ì€ UIë§Œ ëœ ìƒíƒœ....


![Simulator Screen Shot - iPhone 11 - 2022-09-14 at 22 51 39 | 200](https://user-images.githubusercontent.com/92367484/190173335-bc13ec8a-a65e-4b56-9cb8-77e5362b153c.png)

___

# 220915


## 1. Realm 

ìœ ì €ê°€ ë¯¸ì…˜, ìš”ì¼, ì‹œê°„ì„ ì •í•´ì„œ ë“±ë¡í•˜ë©´ ë“±ë¡ì¼ë¶€í„° ì´ë²ˆ ë‹¬ ë§ˆì§€ë§‰ì¼ ê¹Œì§€ ìŠ¤ì¼€ì¥´ì´ ìƒì„±ë  ìˆ˜ ìˆë„ë¡  ë§Œë“¤ê³ ì í–ˆìŠµë‹ˆë‹¤.

ë•Œë¬¸ì— ì»¬ëŸ¼ì— PK, ì‹œì‘ì‹œê°„, ì¢…ë£Œì‹œê°„, Date, ë¯¸ì…˜ì´ë¦„, ìˆ˜í–‰ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì£¼ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

| PK    | ì‹œì‘ì‹œê°„    |  ì¢…ë£Œì‹œê°„     | Date    |  ë¯¸ì…˜ì´ë¦„  | ìˆ˜í–‰ì—¬ë¶€ |
| --- | --- | --- | ---| --- | --- | 
| abcd1234|10:00 | 11:00| 23:12:22:... | ë°±ì¤€ë¬¸ì œí’€ê¸° | false | 


### 1-1. Object Model ì •ì˜

```swift
import RealmSwift

class UserSchedule: Object {
    @Persisted var startTime: String
    @Persisted var endTime: String
    @Persisted var scheduleDate = Date()
    @Persisted var schedule: String
    @Persisted var scheduleSuccess: Bool
    
    @Persisted(primaryKey: true) var objectID: ObjectId
    
    convenience init(startTime: String, endTime: String, scheduleDate: Date, schedule: String, scheduleSuccess: Bool) {
        self.init()
        self.startTime = startTime
        self.endTime = endTime
        self.scheduleDate = scheduleDate
        self.schedule = schedule
        self.scheduleSuccess = false
    }
}
```



### 1-2. ë‹¤ìŒ ë‚ ë¶€í„° ì´ë²ˆ ë‹¬ ë§ˆì§€ë§‰ì¼ê¹Œì§€ ì„ íƒí•œ  ìš”ì¼ ìŠ¤ì¼€ì¥´ ë“±ë¡

ë§¤ì¼ or ë§¤ì£¼ê°€ ì•„ë‹ˆë¼ í•œ ë‹¬ ë‹¨ìœ„ë¡œ ê³„íšì„ ì„¸ìš°ê³ ì í–ˆìŠµë‹ˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì´ë¯¸ ì§€ë‚˜ê°„ ë‚ ì€ ë¹¼ì¤˜ì•¼í–ˆê³  ì•„ì¹¨ì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒ ë‚  ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì¼€ì¥´ì´ ìƒì„±ë˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

ì¶”ê°€ì ìœ¼ë¡œ ë‹¬ì´ ë„˜ì–´ê°€ë©´ ìŠ¤ì¼€ì¥´ì´ ë” ì´ìƒ ìƒì„±ë˜ì§€ ì•Šì•„ì•¼ ë˜ëŠ” ê²ƒê³¼ ì„ íƒí•œ ìš”ì¼ë§Œ ì¶”ê°€ ë˜ì–´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```swift
var now = Date() + 86400 
let calendar = Calendar.current
let weekDayArr = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "]

@objc func okButtonClicked() {
	
	let currentMonth = self.calendar.component(.month, from: now)
		
		while true {
			
			let month = calendar.component(.month, from: now)
			let day = calendar.component(.weekday, from: now) - 1
			
			if currentMonth < month {
				break
			} else if weekDayArr[day] == mainView.sundayButton.titleLabel?.text && mainView.sundayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.mondayButton.titleLabel?.text && mainView.mondayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.tuesdayButton.titleLabel?.text && mainView.tuesdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.wedensdayButton.titleLabel?.text && mainView.wedensdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.thursdayButton.titleLabel?.text && mainView.thursdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.fridayButton.titleLabel?.text && mainView.fridayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.saturdayButton.titleLabel?.text && mainView.saturdayButton.backgroundColor == .lightGray {
				now += 86400
				continue
			} else {
				repository.addSchedule(startTime: mainView.setStartTimeButton.titleLabel?.text ?? "", endTime: mainView.setEndTimeButton.titleLabel?.text ?? "", date: now, schedule: mainView.setScheduleTextField.text!, success: false)
				now += 86400
		}
			
		dismiss(animated: true)
	}
}
```

weekDayArr ë°°ì—´ì„ ë§Œë“¤ì–´ì£¼ê³  calendarë¥¼ ì‚¬ìš©í•´ weekdayë¥¼ ê°€ì ¸ì˜¤ê³ ë‚˜ì„œ - 1ì„ í•´ì£¼ë©´  weekDayArr[day]ëŠ” ì¼ìš”ì¼ì´ ë˜ì–´ ì¸ë±ì‹±ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ë‚´ì¼ë¶€í„° ë‹¤ìŒ ë‹¬ ì´ì „ê¹Œì§€ì˜ ìš”ì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ê·¸ ìš”ì¼ì´ ë§Œì•½ ì›”ìš”ì¼ì´ê³  ìƒ‰ê¹”ì´ lightGray ( ì„ íƒì´ ë˜ì§€ ì•Šì€ ë²„íŠ¼)ì´ë©´ ë‹¤ìŒ ë‚ ë¡œ ë„˜ì–´ê°€ê³  continueë¡œ ë¬´ì‹œí•´ì¤˜ ì„ íƒí•˜ì§€ ì•Šì€ ìš”ì¼ì€ ê±´ë„ˆ ë›°ì–´ì§‘ë‹ˆë‹¤.


### 1-3. ë“±ë¡ê°€ëŠ¥ì‹œê°„ ì˜ˆì™¸ì²˜ë¦¬

ì•±ì˜ íŠ¹ì„±ìƒ ì˜¤ì „ì‹œê°„ë§Œ ì„ íƒì´ ê°€ëŠ¥í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ì˜¤ì „ 4ì‹œë¶€í„° ì˜¤ì „9ì‹œê¹Œì§€ ê·¸ ì•ˆì—ì„œë§Œ ì‹œê°„ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë„ë¡ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.

```Swfit
let ok = UIAlertAction(title: "í™•ì¸", style: .default) { (action) in
	let dateString = DateFormatChange.shared.dateOfHourAndPM.string(from: datePicker.date)
	
	if self.calendar.component(.hour, from: datePicker.date) > 3 && self.calendar.component(.hour, from: datePicker.date) < 9 {
		self.mainView.setStartTimeButton.setTitle(dateString, for: .normal)
		self.mainView.setStartTimeButton.setTitleColor(.systemBlue, for: .normal)
	} else {
		self.showAlertOnlyOk(title: "ì˜¤ì „ 4ì‹œë¶€í„° ì˜¤ì „9ì‹œê¹Œì§€ë§Œ ì‹œê°„ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤")
	}
}
```

ìº˜ë¦°ë”ë¥¼ ì‚¬ìš©í•´ ë°ì´íŠ¸í”¼ì»¤ì˜ ì‹œê°„ì—ì„œ hourë§Œ ê°€ì ¸ì™€ì„œ ì˜¤ì „ 4ì‹œ ~ ì˜¤ì „9ì‹œ ì‚¬ì´ì˜ ì‹œê°„ë§Œ ë“±ë¡ì´ ê°€ëŠ¥í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.

___

# 220916



___