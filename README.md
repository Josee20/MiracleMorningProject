# Í∞úÎ∞ú Í≥µÏàò

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 1 (9/8 ~ 9/11)
| 9/8(Î™©) | 9/9(Í∏à) | 9/10(ÌÜ†) | 9/11(Ïùº) | 
| --- | --- | --- | --- | 
|Ìú¥Ïãù| Ìú¥Ïãù  | Ìú¥Ïãù    |    1P ÌÉ≠Î∞î(1ÏãúÍ∞Ñ)  | 
|  |  |  | 1P UI(2ÏãúÍ∞Ñ) |
|  |  |  | Ìó§ÎçîÎ∑∞(1ÏãúÍ∞Ñ) |
|  |  |  | Ï¢åÏ∏°ÏÉÅÎã®ÏãúÍ∞Ñ(2ÏãúÍ∞Ñ) |

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 2 (9/12 ~ 9/14)
| 9/12(Ïõî) | 9/13(Ìôî) | 9/14(Ïàò) |  
| --- | --- | --- | 
| 3P UI + Circular Progress(5ÏãúÍ∞Ñ)   | 3P ÎÖ∏Ìã∞ÌîºÏºÄÏù¥ÏÖò(2ÏãúÍ∞Ñ)    |  4P UI(4ÏãúÍ∞Ñ)   |  
|2P Î≤ÑÌäº ÏÑ†ÌÉù(2ÏãúÍ∞Ñ) | 2P ÏñºÎüø + Îç∞Ïù¥Ìä∏ÌîºÏª§(3ÏãúÍ∞Ñ)| Îç∞Ïù¥ÌÑ∞ Ïä§ÌÇ§Îßà(2ÏãúÍ∞Ñ)|
|2P ÎØ∏ÏÖò ÌÖçÏä§Ìä∏ÌïÑÎìú(1ÏãúÍ∞Ñ) |2P ÏòàÏô∏Ï≤òÎ¶¨(1ÏãúÍ∞Ñ)||


## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 3 (9/15 ~ 9/18)
| 9/15(Î™©) | 9/16(Í∏à) | 9/17(ÌÜ†) | 9/18(Ïùº) | 
| --- | --- | --- | --- | 
| Ï∫òÎ¶∞Îçî ÌïòÎã® list(3ÏãúÍ∞Ñ)    | ÌÜµÍ≥ÑÏàòÏπò(3ÏãúÍ∞Ñ)    |  Í∞úÏù∏Ï†ïÎ≥¥Í∏∞Îä•(2ÏãúÍ∞Ñ)   |  Ìú¥Ïãù   | 
| 5P UI(3ÏãúÍ∞Ñ)   |  6P + ÏÑ∏Î∂ÄÌï≠Î™© UI(3ÏãúÍ∞Ñ)   | Î∞±ÏóÖÍ∏∞Îä•(4ÏãúÍ∞Ñ)    |  |

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 4 (9/19 ~ 9/21)
| 9/19(Ïõî) | 9/20(Ìôî) | 9/21(Ïàò) |  
| --- | --- | --- | 
|  Î∞©Ìï¥Í∏àÏßÄÎ™®Îìú(3ÏãúÍ∞Ñ)   | Ïó∞ÏÜçÏÑ±Í≥µÏùºÏóê ÎßûÏ∂∞ Ï∫êÎ¶≠ÌÑ∞Î≥ÄÍ≤Ω(3ÏãúÍ∞Ñ)    | 1P, 3P ÌôïÏù∏(3ÏãúÍ∞Ñ)    |  
| Ï∫êÎ¶≠ÌÑ∞ UI(3ÏãúÍ∞Ñ)| 1P, 2P ÌôïÏù∏(3ÏãúÍ∞Ñ) | 4P ÌôïÏù∏(3ÏãúÍ∞Ñ) |

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 5 (9/22 ~ 9/25)
| 9/22(Î™©) | 9/23(Í∏à) | 9/24(ÌÜ†) | 9/25(Ïùº) | 
| --- | --- | --- | --- | 
|  4P ÌôïÏù∏(3ÏãúÍ∞Ñ)   |  Î∞±ÏóÖÌôïÏù∏(3ÏãúÍ∞Ñ)   |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)  | Ìú¥Ïãù    | 
| 5P ÌôïÏù∏(3ÏãúÍ∞Ñ) | Î∞©Ìï¥Í∏àÏßÄÎ™®Îìú ÌôïÏù∏(1ÏãúÍ∞Ñ) | | |
||6P ÎÇòÎ®∏ÏßÄÌôïÏù∏(2ÏãúÍ∞Ñ)|||

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 6 (9/26 ~ 9/28)
| 9/26(Ïõî) | 9/27(Ìôî) | 9/28(Ïàò) |  
| --- | --- | --- | 
| Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)    |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   |  

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 7 (9/29 ~ 10/2)
| 9/29(Î™©) | 9/30(Í∏à) | 10/1(ÌÜ†) | 10/2(Ïùº) | 
| --- | --- | --- | --- | 
|  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   |   Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)  | 

## üìÖ Ïù¥ÌÑ∞Î†àÏù¥ÏÖò 8 (10/3 ~ 10/5)
| 10/3(Ïõî) | 10/4(Ìôî) | 10/5(Ïàò) |  
| --- | --- | --- | 
|   Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)  |  Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)   | Î¶¨Ìå©ÌÜ†ÎßÅ(6ÏãúÍ∞Ñ)    |  

___

# ÏÇ¨Ïö©Ìïú ÎùºÏù¥Î∏åÎü¨Î¶¨
1. FSCalendar
2. SnapKit
3. RealmSwift

___

# 220911


## 1. ÏÉÅÎã® ÏÉÅÌÉúÎ∞î(ÏãúÍ∞Ñ, ÏôÄÏù¥ÌååÏù¥, Î∞∞ÌÑ∞Î¶¨) Îì± ÏßÄÏö∞Îäî Î≤ï

ÏÉÅÎã® Ïä§ÌÖåÏù¥ÌÑ∞Ïä§ Î∞îÎ•º ÏóÜÏï† Ï°∞Í∏à ÍπîÎÅîÌïú? UIÎ•º Ï£ºÍ≥† Ïã∂Ïñ¥ ÏßÄÏõ†Îã§.

ÎÖ∏ÏπòÍ∞Ä ÏûàÎäî Í∏∞Ï¢ÖÏóêÏÑ† Ïïà ÏßÄÏõå ÏßÄÎäî Í≤É Í∞ôÎã§.

```swift
override var prefersStatusBarHidden: Bool {
	return true
}
```


## 2. Timer

ÏãúÍ∞ÑÏùÑ ÎÇòÌÉÄÎÇ¥Ï£ºÎäîÎç∞ Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÏóÖÎç∞Ïù¥Ìä∏Î•º Ìï¥Ï§Ñ ÌïÑÏöîÍ∞Ä ÏûàÎã§Í≥† ÏÉùÍ∞ÅÌï¥ TimerÎ•º ÏÇ¨Ïö©ÌñàÎã§.

‚ùé ÏïÑÏßÅ Ï†ïÌôïÌïòÍ≤å Ïã§ÏãúÍ∞Ñ ÏãúÍ∞ÑÏúºÎ°ú Îñ®Ïñ¥ÏßÄÏßÄ ÏïäÏùå(60Ï¥à Îã®ÏúÑÎ°ú ÏóÖÎç∞Ïù¥Ìä∏)

-> Ìï¥Í≤∞ : timeIntervalÏùÑ 1Î°ú ÎßûÏ∂∞Ï£ºÎ©¥ 1Ï¥àÎßàÎã§ ÏãúÍ∞ÑÏóê ÎßûÏ∂∞ Í∞±Ïã†ÎêòÍ∏∞ ÎïåÎ¨∏Ïóê Ï†ïÌôïÌûà ÏãúÍ∞ÑÏùÑ ÎßûÏ∂∞ÏÑú ÎùÑÏõåÏ§Ñ Ïàò ÏûàÎã§.

```swift
class FirstViewController: BaseViewController {
        
    var timer: Timer?
    
    override func viewDidLoad() {
        super.viewDidLoad()

		// 1Ï¥à Í∞ÑÍ≤©ÏúºÎ°ú getCurrentTime Î©îÏÜåÎìú Ïã§Ìñâ
		// Ïã§ÏãúÍ∞ÑÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÏùå
        timer = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(getCurrentTime), userInfo: nil, repeats: true)
        
    }
    
    override func viewWillDisappear(_ animated: Bool) {
        super.viewWillDisappear(animated)
        
        timer?.invalidate()
    }
    
    override func configure() {
        getCurrentTime()
    }

	// Î†àÏù¥Î∏îÏóê ÏãúÍ∞Ñ ÎÇòÌÉÄÎÇ¥Ï£ºÎäî Î©îÏÜåÎìú
    @objc func getCurrentTime() {
        mainView.presentTimeLabel.text = DateFormatChange.shared.fullDate.string(from: Date())
    }
}
```


## Ìó§ÎçîÎ∑∞ Î†àÏù¥Î∏î Îã¨Í∏∞

```swift
func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {

	let headerView = UIView()
	headerView.frame = CGRect(x: 0, y: 0, width: self.view.frame.width, height: 40)

	let titleLabel = UILabel()
	titleLabel.text = "Ìï† Ïùº"
	titleLabel.textColor = .black
	titleLabel.font = .boldSystemFont(ofSize: 20)
	titleLabel.frame = CGRect(x: 0, y: 0, width: headerView.frame.width, height: headerView.frame.height)
	headerView.addSubview(titleLabel)

	return headerView
}
```
___

# 220912


## 1. circular progress view 

- loadviewÎ°ú Î∑∞Î•º Î∂àÎü¨Ïò§Î©¥ Î∑∞Í∞Ä Í≤πÏπòÍ∏∞ ÎïåÎ¨∏Ïóê Ïïà Îê®
- ÎïåÎ¨∏Ïóê Î∑∞Ïª®Ìä∏Î°§Îü¨Ïóê ÎÇòÎ®∏ÏßÄ Î∑∞Î•º ÎÑ£Ïñ¥Ï§å

```swift
// In TimerView
final class TimerView: BaseView {
    
    private enum Const {
        static let progressLineWidth = 10.0
        static let backgroundLineWidth = progressLineWidth - 5.0
        static let startAngle = CGFloat(-Double.pi / 2)
        static let endAngle = CGFloat(3 * Double.pi / 2)
        static let backgroundStrokeColor = UIColor.systemGray.cgColor
        static let progressStrokeColor = UIColor.systemOrange.cgColor
    }
    
    private let backgroundLayer: CAShapeLayer = {
        let layer = CAShapeLayer()
        layer.lineWidth = Const.backgroundLineWidth
        layer.strokeEnd = 1
        layer.fillColor = UIColor.clear.cgColor
        layer.strokeColor = Const.backgroundStrokeColor
        return layer
    }()
    
    private let progressLayer: CAShapeLayer = {
        let layer = CAShapeLayer()
        layer.lineWidth = Const.progressLineWidth
        layer.strokeEnd = 0
        layer.fillColor = UIColor.clear.cgColor
        layer.strokeColor = Const.progressStrokeColor
        return layer
    }()
    
    private var circularPath: UIBezierPath {
        UIBezierPath(
            arcCenter: CGPoint(x: self.frame.size.width / 2, y: self.frame.size.height / 2),
            radius: self.frame.size.width / 2,
            startAngle: Const.startAngle,
            endAngle: Const.endAngle,
            clockwise: true
        )
    }
    
    var backgroundLayerColor: CGColor? {
        get { self.backgroundLayer.strokeColor }
        set { self.backgroundLayer.strokeColor = newValue }
    }
    var progressLayerColor: CGColor? {
        get { self.progressLayer.strokeColor }
        set { self.progressLayer.strokeColor = newValue }
    }
    var lineWidth: CGFloat {
        get { self.backgroundLayer.lineWidth }
        set { self.backgroundLayer.lineWidth = newValue }
    }
    
    required init() {
        super.init(frame: .zero)
        
        self.backgroundColor = .clear
        self.backgroundLayer.path = self.circularPath.cgPath
        self.progressLayer.path = self.circularPath.cgPath
        
        self.layer.addSublayer(self.backgroundLayer)
        self.layer.addSublayer(self.progressLayer)
    }
    
    override func layoutSublayers(of layer: CALayer) {
        super.layoutSublayers(of: layer)
        
        self.backgroundLayer.path = self.circularPath.cgPath
        self.progressLayer.path = self.circularPath.cgPath
    }

    required init?(coder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
    
    func start(duration: TimeInterval) {
        self.progressLayer.removeAnimation(forKey: "progress")
        let circularProgressAnimation = CABasicAnimation(keyPath: "strokeEnd")
        circularProgressAnimation.duration = duration
        circularProgressAnimation.toValue = 1.0
        circularProgressAnimation.fillMode = .forwards
        circularProgressAnimation.isRemovedOnCompletion = false
        self.progressLayer.add(circularProgressAnimation, forKey: "progress")
    }
}

// In ViewController
class TimerViewController: BaseViewController {
    
    let timeLabel = UILabel()
    
    var leftTime: Int = 10
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        self.view.backgroundColor = .systemBackground
        self.addTimerView(on: self.timeLabel)
        
        self.timeLabel.textAlignment = .center
        self.timeLabel.font = .boldSystemFont(ofSize: 40)
        
        self.view.addSubview(self.timeLabel)
        self.timeLabel.translatesAutoresizingMaskIntoConstraints = false
        NSLayoutConstraint.activate([
            self.timeLabel.heightAnchor.constraint(equalToConstant: 300),
            self.timeLabel.widthAnchor.constraint(equalToConstant: 300),
            self.timeLabel.centerYAnchor.constraint(equalTo: self.view.centerYAnchor),
            self.timeLabel.centerXAnchor.constraint(equalTo: self.view.centerXAnchor),
        ])
        
        // MARK: ÌÉÄÏù¥Î®∏
        Timer.scheduledTimer(withTimeInterval: 1, repeats: true, block: { (t) in
            
            self.leftTime -= 1
            
            let minute = self.leftTime / 60
            let second = self.leftTime % 60
            
            if self.leftTime > 0 {
                self.timeLabel.text = String(format: "%02d:%02d", minute, second)
            } else {
                self.timeLabel.text = "ÎÅù!"
                self.okButton.layer.borderColor = UIColor.systemOrange.cgColor
                self.okButton.backgroundColor = .systemOrange
                self.okButton.isUserInteractionEnabled = true
            }
        })
    }
    
    private func addTimerView(on subview: UIView) {
        let timerView = TimerView()
        subview.addSubview(timerView)
        timerView.translatesAutoresizingMaskIntoConstraints = false
        NSLayoutConstraint.activate([
            timerView.leftAnchor.constraint(equalTo: subview.leftAnchor),
            timerView.rightAnchor.constraint(equalTo: subview.rightAnchor),
            timerView.bottomAnchor.constraint(equalTo: subview.bottomAnchor),
            timerView.topAnchor.constraint(equalTo: subview.topAnchor),
        ])
        timerView.start(duration: Double(leftTime))
    }
}

final class RoundLabel: UILabel {

    override func layoutSubviews() {
        super.layoutSubviews()
        
        self.clipsToBounds = true
        self.layer.cornerRadius = self.bounds.height / 2.0

    }
}
```


## 2. multiple button click and change background color

![[Ïä§ÌÅ¨Î¶∞ÏÉ∑ 2022-09-13 Ïò§Ï†Ñ 3.24.57.png | 300]]


### Ï§ëÏöîÏÇ¨Ìï≠

1. Î≤ÑÌäºÏóê ÌÉúÍ∑∏ ÏßÄÏ†ïÌï¥Ï£ºÍ∏∞( ÌÉúÍ∑∏Îäî ÏÉùÏ°¥Î≤îÏúÑÎ•º Î≤óÏñ¥ÎÇúÎã§Í≥†Ìï¥ÏÑú ÏÇ¨ÎùºÏßÄÏßÄ ÏïäÏùå)
2. senderÎ°ú Î∞õÍ∏∞

```swift
// load ViewÏóê ÌÉúÍ∑∏ÏßÄÏ†ï(Î∑∞Î•º Í∑∏Î†§Ïïº ÌÉúÍ∑∏?Î•º ÏßÄÏ†ïÌï† Ïàò ÏûàÎäî Í±∞ Í∞ôÏùå)
override func loadView() {
	self.view = mainView

	// Î≤ÑÌäºÏóê tag Î∂ÄÏó¨
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	for i in 0...6 {
		dayButtonArr[i].tag = i
	}
}

// Í∞ÅÍ∞Å Î≤ÑÌäºÏóêÍ≤å addTarget Î∂ÄÏó¨
override func configure() {
        
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	for i in 0..<dayButtonArr.count {
		dayButtonArr[i].addTarget(self, action: #selector(dayButtonClicked), for: .touchUpInside)
	}
}

// sender.tagÎ°ú Î∞õÏïÑÏÑú Î∞±Í∑∏ÎùºÏö¥Îìú Ïª¨Îü¨ Î≥ÄÍ≤Ω
@objc func dayButtonClicked(sender: UIButton) {
	
	let dayButtonArr = [mainView.sundayButton, mainView.mondayButton, mainView.tuesdayButton, mainView.wedensdayButton, mainView.thursdayButton, mainView.fridayButton, mainView.saturdayButton]
	
	if dayButtonArr[sender.tag].backgroundColor == UIColor.gray {
		dayButtonArr[sender.tag].backgroundColor = .orange
	} else if dayButtonArr[sender.tag].backgroundColor == UIColor.orange {
		dayButtonArr[sender.tag].backgroundColor = .gray
	}
}

```

___

# 220913


## 1. Notification

1.  Ï≤òÏùå Î∑∞Ïª®Ìä∏Î°§Îü¨Ïóê notificationCenter Ï¥àÍ∏∞Ìôî(Ïã±Í∏ÄÌÜ§ Ìå®ÌÑ¥)
2.  requestNotificationAuthorizationÏúºÎ°ú Ï≤òÏùåÏóê ÏïåÎ¶º Í∂åÌïú ÏÑ§Ï†ï

```swift
class FirstViewController: BaseViewController {
    
    let notificationCenter = UNUserNotificationCenter.current()
    
    override func loadView() {
        self.view = mainView
    }
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        requestNotificationAuthorization()
    }
    
    func requestNotificationAuthorization() {

        notificationCenter.requestAuthorization(options: [.alert, .sound]) { success, error in
            if let error = error {
                print(error)
            }
        }
    }
}
```


3. ÏïåÎûå ÎÇòÌÉÄÎÇ¥Í≥† Ïã∂ÏùÄ Î∑∞Ïª®Ìä∏Î°§Îü¨Ïóê notificationCenter Îã§ÏãúÏ¥àÍ∏∞Ìôî
4. callNotification Ìï®Ïàò ÎßåÎì§Ïñ¥Ï£ºÍ∏∞

```swift
class TimerViewController: BaseViewController {
    
    let notificationCenter = UNUserNotificationCenter.current()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        self.callNotification(time: 1, title: "ÎØ∏ÏÖò ÏôÑÎ£å!!!", body: "Îã§Ïùå ÎØ∏ÏÖòÎèÑ ÏôÑÏàòÌï¥Ï£ºÏÑ∏Ïöî~~\nÎã§ ÎßàÏπòÏÖ®Îã§Î©¥ ÎãπÏã†ÏùÄ Î©ãÏüÅÏù¥!!!")
        
        UNUserNotificationCenter.current().requestAuthorization(options: [.alert, .sound]) { success, error in
            print(error)
        }
    }
    
    func callNotification(time: Double, title: String, body: String) {
        notificationCenter.removeAllPendingNotificationRequests()
        
        let content = UNMutableNotificationContent()
        content.title = title
        content.body = body
        content.sound = .defaultCritical
        content.badge = 2
        
        let trigger = UNTimeIntervalNotificationTrigger(timeInterval: time, repeats: false)
        
        let request = UNNotificationRequest(identifier: "notification", content: content, trigger: trigger)
        
        UNUserNotificationCenter.current().add(request) { error in
            guard let error = error else { return }
            print(error)
        }
    }
}
```



## 2. Alert + DatePicker

1.  UIDatePicker() Ï¥àÍ∏∞Ìôî ÌõÑ Ïä§ÌÉÄÏùº Ïû°ÏïÑÏ£ºÍ∏∞
2. UIAlertController Ï¥àÍ∏∞Ìôî ÌõÑ ÏÑúÎ∏å Î∑∞Î°ú datePicker ÎÑ£Ïñ¥Ï£ºÍ∏∞
3. Î†àÏù¥ÏïÑÏõÉ Ïû°ÏïÑÏ£ºÍ≥† ÏñºÎüø Ïï°ÏÖò Ï∂îÍ∞ÄÌï¥Ï£ºÍ∏∞
4. okÎ≤ÑÌäº ÌÅ¥Î¶≠Ïãú ÏãúÍ∞ÑÏÑ†ÌÉù Î≤ÑÌäº ÌÉÄÏù¥ÌãÄ Ìï¥Îãπ ÏãúÍ∞ÑÏùÑ ÏÑ†ÌÉùÌïú ÏãúÍ∞ÑÏúºÎ°ú Î≥ÄÍ≤ΩÌï¥Ï£ºÍ∏∞

```swift
@objc func setStartTimeButtonClicked(sender: UIDatePicker) {
	
	let datePicker = UIDatePicker()
	
	datePicker.datePickerMode = .time
	datePicker.preferredDatePickerStyle = .wheels
	datePicker.locale = NSLocale(localeIdentifier: "ko-KR") as Locale
	
	let alert = UIAlertController(title: "\n\n\n\n\n\n\n\n\n\n\n", message: nil, preferredStyle: .actionSheet)
	
	alert.view.addSubview(datePicker)
	
	datePicker.snp.makeConstraints {
		$0.centerX.equalTo(alert.view)
		$0.top.equalTo(alert.view).offset(8)
	}
	
	let ok = UIAlertAction(title: "ÌôïÏù∏", style: .default) { (action) in
		let dateString = DateFormatChange.shared.dateOfHourAndPM.string(from: datePicker.date)
		self.mainView.setStartTimeButton.setTitle(dateString, for: .normal)
		self.mainView.setStartTimeButton.setTitleColor(.systemBlue, for: .normal)
	}
	
	let cancel = UIAlertAction(title: "Ï∑®ÏÜå", style: .cancel, handler: nil)
	
	alert.addAction(ok)
	alert.addAction(cancel)
	
	present(alert, animated: true, completion: nil)
}
```
___

# 220914

## 1. CollectionView

<img width="669" alt="·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫ 2022-09-14 ·Ñã·Ö©·Ñí·ÖÆ 10 38 08" src="https://user-images.githubusercontent.com/92367484/190170742-2e358b39-679b-4686-ad33-57795f224fd2.png">

ÏΩîÎìúÎ≤†Ïù¥Ïä§Î°ú Ïª¨Î†âÏÖòÎ∑∞Î•º ÌÖåÏù¥Î∏îÎ∑∞ÏôÄ Í∞ôÏù¥ Ï∂îÍ∞ÄÌï¥ Ï£ºÎ†§ ÌñàÏúºÎÇò Îã§ÏùåÍ≥º Í∞ôÏùÄ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÎã§.

Î¨¥Ïä® Ïù¥Ïú†Ïù∏ÏßÄ ÏïåÏïÑÎ≥¥Îãà Ïª¨Î†âÏÖòÎ∑∞Îäî Î†àÏù¥ÏïÑÏõÉÏù¥ ÏóÜÏù¥ Ï¥àÍ∏∞ÌôîÍ∞Ä Î∂àÍ∞ÄÎä•ÌïòÎã§Îäî Í≤ÉÏù¥Îã§.

Ï¶â collectionViewÎäî TableViewÏôÄ Îã§Î•¥Í≤å Î∑∞Í∞ùÏ≤¥Î•º ÎßåÎì§Í∏∞Ï†ÑÏóê Î†àÏù¥ÏïÑÏõÉÏùÑ Îã§ ÏßÄÏ†ïÌï¥Ï£ºÏñ¥ÏïºÌïúÎã§.

Îã§ÏùåÍ≥º Í∞ôÏù¥ ÎßêÏù¥Îã§.

```swift
public let collectionView: UICollectionView = {
	let layout = UICollectionViewFlowLayout()
	let space: CGFloat = 4
	let width = UIScreen.main.bounds.width - (space * 7)
	let height = width

	layout.itemSize = CGSize(width: width / 6, height: width / 6)
	layout.scrollDirection = .horizontal
	layout.sectionInset = UIEdgeInsets(top: space, left: space, bottom: space, right: space)
	layout.minimumLineSpacing = space
	layout.minimumInteritemSpacing = space
	
	let view = UICollectionView(frame: .zero, collectionViewLayout: layout)
	
	return view
}()
```



##  2. TableView

Ï∂îÍ∞ÄÌïú Ïä§ÏºÄÏ•¥ÏùÑ Ïú†Ï†ÄÍ∞Ä Ï∫òÎ¶∞ÎçîÏóêÏÑú ÌÅ¥Î¶≠ Ïãú ÌôïÏù∏Ìï† Ïàò ÏûàÎèÑÎ°ù ÌïòÍ∏∞ÏúÑÌï¥ ÌÖåÏù¥Î∏î Î∑∞Î°ú ÏûëÏÑ±ÌñàÎã§.

ÏïÑÏßÅÏùÄ UIÎßå Îêú ÏÉÅÌÉú....


![Simulator Screen Shot - iPhone 11 - 2022-09-14 at 22 51 39 | 200](https://user-images.githubusercontent.com/92367484/190173335-bc13ec8a-a65e-4b56-9cb8-77e5362b153c.png)

___

# 220915


## 1. Realm 

Ïú†Ï†ÄÍ∞Ä ÎØ∏ÏÖò, ÏöîÏùº, ÏãúÍ∞ÑÏùÑ Ï†ïÌï¥ÏÑú Îì±Î°ùÌïòÎ©¥ Îì±Î°ùÏùºÎ∂ÄÌÑ∞ Ïù¥Î≤à Îã¨ ÎßàÏßÄÎßâÏùº ÍπåÏßÄ Ïä§ÏºÄÏ•¥Ïù¥ ÏÉùÏÑ±Îê† Ïàò ÏûàÎèÑÎ°ù  ÎßåÎì§Í≥†Ïûê ÌñàÏäµÎãàÎã§.

ÎïåÎ¨∏Ïóê Ïª¨ÎüºÏóê PK, ÏãúÏûëÏãúÍ∞Ñ, Ï¢ÖÎ£åÏãúÍ∞Ñ, Date, ÎØ∏ÏÖòÏù¥Î¶Ñ, ÏàòÌñâÏó¨Î∂ÄÎ•º ÎÇòÌÉÄÎÇ¥Ï£ºÍ∏∞Î°ú ÌñàÏäµÎãàÎã§.

| PK    | ÏãúÏûëÏãúÍ∞Ñ    |  Ï¢ÖÎ£åÏãúÍ∞Ñ     | Date    |  ÎØ∏ÏÖòÏù¥Î¶Ñ  | ÏàòÌñâÏó¨Î∂Ä |
| --- | --- | --- | ---| --- | --- | 
| abcd1234|10:00 | 11:00| 23:12:22:... | Î∞±Ï§ÄÎ¨∏Ï†úÌíÄÍ∏∞ | false | 


### 1-1. Object Model Ï†ïÏùò

```swift
import RealmSwift

class UserSchedule: Object {
    @Persisted var startTime: String
    @Persisted var endTime: String
    @Persisted var scheduleDate = Date()
    @Persisted var schedule: String
    @Persisted var scheduleSuccess: Bool
    
    @Persisted(primaryKey: true) var objectID: ObjectId
    
    convenience init(startTime: String, endTime: String, scheduleDate: Date, schedule: String, scheduleSuccess: Bool) {
        self.init()
        self.startTime = startTime
        self.endTime = endTime
        self.scheduleDate = scheduleDate
        self.schedule = schedule
        self.scheduleSuccess = false
    }
}
```



### 1-2. Îã§Ïùå ÎÇ†Î∂ÄÌÑ∞ Ïù¥Î≤à Îã¨ ÎßàÏßÄÎßâÏùºÍπåÏßÄ ÏÑ†ÌÉùÌïú  ÏöîÏùº Ïä§ÏºÄÏ•¥ Îì±Î°ù

Îß§Ïùº or Îß§Ï£ºÍ∞Ä ÏïÑÎãàÎùº Ìïú Îã¨ Îã®ÏúÑÎ°ú Í≥ÑÌöçÏùÑ ÏÑ∏Ïö∞Í≥†Ïûê ÌñàÏäµÎãàÎã§.

Í∑∏Î†áÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥ÎØ∏ ÏßÄÎÇòÍ∞Ñ ÎÇ†ÏùÄ ÎπºÏ§òÏïºÌñàÍ≥† ÏïÑÏπ®Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê Îã§Ïùå ÎÇ† Í∏∞Ï§ÄÏúºÎ°ú Ïä§ÏºÄÏ•¥Ïù¥ ÏÉùÏÑ±ÎêòÎèÑÎ°ù ÌñàÏäµÎãàÎã§.

Ï∂îÍ∞ÄÏ†ÅÏúºÎ°ú Îã¨Ïù¥ ÎÑòÏñ¥Í∞ÄÎ©¥ Ïä§ÏºÄÏ•¥Ïù¥ Îçî Ïù¥ÏÉÅ ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïÑÏïº ÎêòÎäî Í≤ÉÍ≥º ÏÑ†ÌÉùÌïú ÏöîÏùºÎßå Ï∂îÍ∞Ä ÎêòÏñ¥ÏïºÌïúÎã§Îäî Í≤ÉÏùÑ Îã§ÏùåÍ≥º Í∞ôÏù¥ Íµ¨ÌòÑÌñàÏäµÎãàÎã§.

```swift
var now = Date() + 86400 
let calendar = Calendar.current
let weekDayArr = ["Ïùº", "Ïõî", "Ìôî", "Ïàò", "Î™©", "Í∏à", "ÌÜ†"]

@objc func okButtonClicked() {
	
	let currentMonth = self.calendar.component(.month, from: now)
		
		while true {
			
			let month = calendar.component(.month, from: now)
			let day = calendar.component(.weekday, from: now) - 1
			
			if currentMonth < month {
				break
			} else if weekDayArr[day] == mainView.sundayButton.titleLabel?.text && mainView.sundayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.mondayButton.titleLabel?.text && mainView.mondayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.tuesdayButton.titleLabel?.text && mainView.tuesdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.wedensdayButton.titleLabel?.text && mainView.wedensdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.thursdayButton.titleLabel?.text && mainView.thursdayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.fridayButton.titleLabel?.text && mainView.fridayButton.backgroundColor == .lightGray ||
				weekDayArr[day] == mainView.saturdayButton.titleLabel?.text && mainView.saturdayButton.backgroundColor == .lightGray {
				now += 86400
				continue
			} else {
				repository.addSchedule(startTime: mainView.setStartTimeButton.titleLabel?.text ?? "", endTime: mainView.setEndTimeButton.titleLabel?.text ?? "", date: now, schedule: mainView.setScheduleTextField.text!, success: false)
				now += 86400
		}
			
		dismiss(animated: true)
	}
}
```

weekDayArr Î∞∞Ïó¥ÏùÑ ÎßåÎì§Ïñ¥Ï£ºÍ≥† calendarÎ•º ÏÇ¨Ïö©Ìï¥ weekdayÎ•º Í∞ÄÏ†∏Ïò§Í≥†ÎÇòÏÑú - 1ÏùÑ Ìï¥Ï£ºÎ©¥  weekDayArr[day]Îäî ÏùºÏöîÏùºÏù¥ ÎêòÏñ¥ Ïù∏Îç±Ïã±Ïù¥ Ïù¥Î£®Ïñ¥ÏßëÎãàÎã§.

Í∑∏Îü¨Î©¥ ÎÇ¥ÏùºÎ∂ÄÌÑ∞ Îã§Ïùå Îã¨ Ïù¥Ï†ÑÍπåÏßÄÏùò ÏöîÏùºÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÏäµÎãàÎã§.

Í∑∏Î¶¨Í≥† Í∑∏ ÏöîÏùºÏù¥ ÎßåÏïΩ ÏõîÏöîÏùºÏù¥Í≥† ÏÉâÍπîÏù¥ lightGray ( ÏÑ†ÌÉùÏù¥ ÎêòÏßÄ ÏïäÏùÄ Î≤ÑÌäº)Ïù¥Î©¥ Îã§Ïùå ÎÇ†Î°ú ÎÑòÏñ¥Í∞ÄÍ≥† continueÎ°ú Î¨¥ÏãúÌï¥Ï§ò ÏÑ†ÌÉùÌïòÏßÄ ÏïäÏùÄ ÏöîÏùºÏùÄ Í±¥ÎÑà Îõ∞Ïñ¥ÏßëÎãàÎã§.


### 1-3. Îì±Î°ùÍ∞ÄÎä•ÏãúÍ∞Ñ ÏòàÏô∏Ï≤òÎ¶¨

Ïï±Ïùò ÌäπÏÑ±ÏÉÅ Ïò§Ï†ÑÏãúÍ∞ÑÎßå ÏÑ†ÌÉùÏù¥ Í∞ÄÎä•Ìï† Ïàò ÏûàÎèÑÎ°ù ÌïòÎäî Í≤ÉÏù¥ ÎßûÎã§Í≥† ÏÉùÍ∞ÅÌñàÏäµÎãàÎã§.

Ïò§Ï†Ñ 4ÏãúÎ∂ÄÌÑ∞ Ïò§Ï†Ñ9ÏãúÍπåÏßÄ Í∑∏ ÏïàÏóêÏÑúÎßå ÏãúÍ∞Ñ ÏÑ§Ï†ïÏù¥ Í∞ÄÎä•ÌïòÎèÑÎ°ù ÏòàÏô∏Ï≤òÎ¶¨Î•º Ìï¥Ï£ºÏóàÏäµÎãàÎã§.

```Swfit
let ok = UIAlertAction(title: "ÌôïÏù∏", style: .default) { (action) in
	let dateString = DateFormatChange.shared.dateOfHourAndPM.string(from: datePicker.date)
	
	if self.calendar.component(.hour, from: datePicker.date) > 3 && self.calendar.component(.hour, from: datePicker.date) < 9 {
		self.mainView.setStartTimeButton.setTitle(dateString, for: .normal)
		self.mainView.setStartTimeButton.setTitleColor(.systemBlue, for: .normal)
	} else {
		self.showAlertOnlyOk(title: "Ïò§Ï†Ñ 4ÏãúÎ∂ÄÌÑ∞ Ïò§Ï†Ñ9ÏãúÍπåÏßÄÎßå ÏãúÍ∞ÑÏÑ§Ï†ïÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§")
	}
}
```

Ï∫òÎ¶∞ÎçîÎ•º ÏÇ¨Ïö©Ìï¥ Îç∞Ïù¥Ìä∏ÌîºÏª§Ïùò ÏãúÍ∞ÑÏóêÏÑú hourÎßå Í∞ÄÏ†∏ÏôÄÏÑú Ïò§Ï†Ñ 4Ïãú ~ Ïò§Ï†Ñ9Ïãú ÏÇ¨Ïù¥Ïùò ÏãúÍ∞ÑÎßå Îì±Î°ùÏù¥ Í∞ÄÎä•ÌïòÍ≤å ÌñàÏäµÎãàÎã§.

___

# 220916


## 1. Ï∫òÎ¶∞ÎçîÏóê Ï†ê(Ïä§ÏºÄÏ•¥) Ï∞çÏñ¥Ï£ºÍ∏∞

```swift
func setEvents() {

	for i in 0..<tasks.count {
		let eventDateString = DateFormatChange.shared.dateOfYearMonthDay.string(from: tasks[i].scheduleDate)
		
		guard let eventDate = DateFormatChange.shared.dateOfYearMonthDay.date(from: eventDateString) else {
			return
		}
		
		events.append(eventDate)
	}
}

extension SecondViewController: FSCalendarDelegate, FSCalendarDataSource, FSCalendarDelegateAppearance {
    
    // ... Í∞úÏàò
    func calendar(_ calendar: FSCalendar, numberOfEventsFor date: Date) -> Int {
        
        var j = 0
        
        let koreanStringDate = DateFormatChange.shared.dateOfYearMonthDay.string(from: date)
        guard let koreanDate = DateFormatChange.shared.dateOfYearMonthDay.date(from: koreanStringDate) else { return  1 }
        
        if self.events.contains(date) {
            j = 0
            for i in 0..<tasks.count {
                if self.events[i] == date {
                    j += 1
                }
            }
            mainView.calendar.appearance.eventDefaultColor = .systemGray3
            print("++++++++++ \(koreanDate)")
            return j
        } else {
            return 0
        }
    }
}

```

FSCalendarÏùò Îç∏Î¶¨Í≤åÏù¥Ìä∏ Ìå®ÌÑ¥ÏùÑ Ïù¥Ïö©ÌïòÎ©¥ Ï∫òÎ¶∞ÎçîÏóêÏÑú Îã§ÏñëÌïú Í∏∞Îä•Îì§ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤åÎêúÎã§.

Ïä§ÏºÄÏ•¥ÏùÑ Îì±Î°ùÌïòÎ©¥ Ìï¥Îãπ ÎÇ†Ïßú Î∞ëÏóê ...ÏùÑ ÎßåÎì§Ïñ¥Ï£ºÍ≥† Ïã∂ÏóàÍ≥† Í∑∏ Î©îÏÜåÎìúÎäî `numberOfEventsFor` Î©îÏÜåÎìúÏóêÏÑú Îã§Î£∞ Ïàò ÏûàÏóàÎã§.

Ïù¥ Î©îÏÜåÎìúÎäî Ïù¥Î≤à Îã¨Ïùò dateÍ∞Ä Ï∞®Î°ÄÎåÄÎ°ú Î™®Îëê Ï∂úÎ†•ÎêòÍ≤åÌïòÎäî Í∏∞Îä•?ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÎäîÎç∞ ÌÖåÏù¥Î∏îÎ∑∞Ïùò indexPathÏôÄ ÎπÑÏä∑ÌïòÎã§.

Í∑∏ÎûòÏÑú date Í∞íÏùÑ ÏÑúÎ°ú ÎπÑÍµêÌï¥ÏÑú Ïä§ÏºÄÏ•¥Ïù¥ ÏûàÏúºÎ©¥ Ï∂úÎ†•Ìï¥Ï§òÏïºÌïúÎã§Í≥† ÏÉùÍ∞ÅÌñàÍ≥† Í∞ÄÏû• Î®ºÏ†Ä eventArr Î∞∞Ïó¥ÏùÑ ÎßåÎì§Ïñ¥ RealmÏùò ScheduleDateÎ•º ÌòïÌÉúÏóê ÎßûÏ∂∞ date Î∞∞Ïó¥Î°ú ÎßåÎì§Ïñ¥ Ï§¨Îã§.

Îã§Ïùå Ïù¥Î•º ÌôúÏö©Ìï¥ Ïù¥Î≤§Ìä∏Î•º Ï†êÏúºÎ°ú ÎÇòÌÉÄÎÇ¥Î†§Î©¥ Îã§ÏùåÍ≥º Í∞ôÏùÄ Î°úÏßÅÏù¥ ÌïÑÏöîÌïòÎã§Í≥† ÏÉùÍ∞ÅÌñàÎã§.

1. Ìï¥Îãπ ÎÇ†Ïóê Ïä§ÏºÄÏ•¥ÏùÑ Í∞ÄÏßÄÍ≥†ÏûàÎäîÏßÄ ÏóÜÎäîÏßÄ
2. ÎßåÏïΩ ÏûàÎã§Î©¥ Î™á Í∞úÎ•º Í∞ÄÏßÄÍ≥† ÏûàÎäîÏßÄ
3. Ïä§ÏºÄÏ•¥ Í∞úÏàò ÎßåÌÅº Î¶¨ÌÑ¥Ìï¥ÏÑú Ï†ê Ï∞çÏñ¥Ï£ºÍ∏∞

containÏúºÎ°ú ÌôïÏù∏Ìï¥Ï£ºÍ≥† Î≥ÄÏàò jÎ•º ÌôúÏö©Ìï¥ Ïä§ÏºÄÏ•¥ Í∞úÏàòÎßåÌÅº Î¶¨ÌÑ¥Ìï¥Ï§Ñ Ïàò ÏûàÎèÑÎ°ùÌñàÎã§.



## 1-2 ‚ùé Î¨∏Ï†úÎ∞úÏÉù ‚ùé

Ïï±ÏùÑ ÍªêÎã§ÌÇ§Î©¥ Ï†úÎåÄÎ°ú ...Ïù¥ ÎÇ†ÏßúÏóê ÎßûÏ∂îÏñ¥ Ïù∏ÏãùÎêòÏßÄÎßå Ïä§ÏºÄÏ•¥ Îì±Î°ù ÌõÑ Ï∫òÎ¶∞ÎçîÏóê Îì§Ïñ¥Í∞ÄÎ©¥ Ï†úÎåÄÎ°ú ...Ïù¥ ÏïàÏ∞çÌûàÎäî ÌòÑÏÉÅÏùº Î∞úÏÉùÌñàÎã§.

ÏµúÏ¥àÏóê Ïä§ÏºÄÏ•¥ Îì±Î°ùÏãúÏóî Ïûò Îì±Î°ùÏù¥ ÎêòÏßÄÎßå Îëê Î≤àÏß∏ Î∂ÄÌÑ¥ Î∞ÄÎ¶¨Í∏∞ ÏãúÏûëÌïúÎã§...

<img width="500" alt="Ïä§ÌÅ¨Î¶∞ÏÉ∑ 2022-09-17 Ïò§ÌõÑ 4 06 21" src="https://user-images.githubusercontent.com/92367484/190851697-a11b02dd-911a-4caa-9a1c-e039160db9c9.png">

Ïñ¥Ïß∏ÏÑúÏù∏ÏßÄ 22Ïùº 23ÏùºÏóê ..Ïù¥ Îì±Î°ùÎêòÏßÄ ÏïäÍ≥† 27, 28ÏùºÎ°ú ÎÑòÏñ¥Í∞Ä Î≤ÑÎ†∏Îã§... Í∑∏Îü∞Îç∞ Ïï±ÏùÑ ÍªêÎã§ÌÇ§Î©¥ Ï†úÎåÄÎ°ú Ïù∏ÏãùÏù¥ ÎêòÏñ¥ ÎÇòÌÉÄÎÇúÎã§...

<img width="500" alt="Ïä§ÌÅ¨Î¶∞ÏÉ∑ 2022-09-17 Ïò§ÌõÑ 4 08 28" src="https://user-images.githubusercontent.com/92367484/190851726-e3d31b21-b6bc-462f-8de7-3d85d279c391.png">


```swift
override func viewWillAppear(_ animated: Bool) {
	super.viewWillAppear(animated)
	
	// Î∞òÎìúÏãú fetchÎ•º Ìï¥Ï£ºÍ≥† setEventsÎ•º Ïã§ÌñâÏãúÏºú Ìï¥Ï£ºÏñ¥ÏïºÌï®
	// Í∑∏ÎûòÏïº RealmÏóêÏÑú tasks.countÎ•º ÎßûÏ∂∞ setEventsÎ©îÏÜåÎìúÎ•º Ïì∏ Ïàò ÏûàÏùå
	
	fetchRealm()
	setEvents()
	
	mainView.calendar.reloadData()
	print(eventArr)
}


func setEvents() -> [Date] {

	for i in 0..<tasks.count {
		let eventDateString = DateFormatChange.shared.dateOfYearMonthDay.string(from: tasks[i].scheduleDate
			
		guard let eventDate = DateFormatChange.shared.dateOfYearMonthDay.date(from: eventDateString) else {
			return [Date()]
		}
		
		eventArr.append(eventDate)
	}
	
	return eventArr
}

extension SecondViewController: FSCalendarDelegate, FSCalendarDataSource, FSCalendarDelegateAppearance {
    
    // ... Í∞úÏàò
    func calendar(_ calendar: FSCalendar, numberOfEventsFor date: Date) -> Int {
        
        var j = 0
        
        if self.eventArr.contains(date) {
            j = 0
            for i in 0..<tasks.count {
                if self.eventArr[i] == date {
                    j += 1
                }
            }
            mainView.calendar.appearance.eventDefaultColor = .systemGray3
            return j
        } else {
            return 0
        }
    }
}
```


ÌïòÎÇòÏî© Ï∞çÏñ¥Î≥¥Îãà Ïù¥ÏôÄ Í∞ôÏùÄ Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌïòÍ≥† ÏûàÏóàÎã§.

<img width="900" alt="·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫ 2022-09-17 ·Ñã·Ö©·Ñí·ÖÆ 6 35 01" src="https://user-images.githubusercontent.com/92367484/190851625-e3b56b72-3780-4564-8699-d78cb64902a8.png">

viewWillAppear ÏãúÏ†êÏóê `setEvents()` Î•º Ìï¥Ï£ºÎãà Î∑∞Í∞Ä ÎÇòÏò¨ Îïå ÎßàÎã§ `setEvents()`Í∞Ä Ïã§ÌñâÎêòÏóàÍ≥† ÎïåÎ¨∏Ïóê eventArrÏùò Ïù∏Îç±Ïä§Í∞íÏù¥ Íº¨Ïù¥Í≤åÎêòÏñ¥ ... Ïù¥ Ï†úÎåÄÎ°ú Ï∞çÌûàÏßÄ ÏïäÏùÄ Í≤ÉÏù¥Îã§.

Í∑∏Î†áÎã§Í≥† setEvents()Ïùò ÏãúÏ†êÏùÑ Î∞îÍæ∏ÏûêÎãà fetch ÏãúÏ†êÍ≥º Ïñ¥Í∏ãÎÇòÏÑú tasks.countÏôÄÏùò ÌÅ¨Í∏∞Í∞Ä Ïïà ÎßûÍ≤åÎêòÏñ¥Î≤ÑÎ¶∞Îã§. Í∑∏Î†áÎã§Î©¥ ÏãúÏ†êÏúºÎ°ú Ìï¥Í≤∞Ìï† Î¨∏Ï†úÎäî ÏùºÎã® ÏïÑÎãàÎã§.

Îã§ÏùåÏúºÎ°ú ÏãúÎèÑÌï¥Î≥∏ Í≤ÉÏùÄ Î∞îÎ≥¥Í∞ôÏßÄÎßå Í∑∏Îüº `setEvents()` Ïóê Ï°∞Í±¥ÏùÑ Ï£ºÏñ¥ ÏÉàÎ°ú Í∞íÏù¥ Ï∂îÍ∞ÄÎê† ÎïåÎßå Ïã§ÌñâÎêòÍ≤åÌïòÎ©¥ Ïñ¥Îñ®Íπå Ìï¥ÏÑú Îã§ÏùåÍ≥º Í∞ôÏùÄ Ï°∞Í±¥ÏùÑ Ï£ºÏóàÎã§.

```swift
override func viewWillAppear(_ animated: Bool) {
	super.viewWillAppear(animated)
	
	fetchRealm()

	if tasks.count > eventArr {
		setEvents()
	}
	
	mainView.calendar.reloadData()
	print(eventArr)
}
```

Ïù¥Î†áÍ≤åÌïòÎ©¥ Î∂ÑÎ™Ö Î∑∞Í∞Ä ÎÇòÏò¨ ÎïåÎßàÎã§ Ïã§ÌñâÎêòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº tasksÏóê Ïù¥Î≤§Ìä∏Í∞Ä ÏóÖÎç∞Ïù¥Ìä∏ ÎêòÏñ¥ `tasks.count`Í∞Ä `eventArr`Ïùò ÌÅ¨Í∏∞Î≥¥Îã§ Ïª§Ïïº `setEvents()`Í∞Ä Ïã§Ìñâ ÎêòÍ≤å Îê† Í≤ÉÏù¥Îã§.

Í∑∏Î†áÎã§Î©¥ Îç∞Ïù¥ÌÑ∞Î•º Ï∂îÍ∞ÄÌïòÍ≥† Î∑∞Î•º ÎùÑÏö∞Î©¥ Ïñ¥ÎñªÍ≤å Îê†Íπå?

ÏÉàÎ°úÏö¥ Í∞íÎßå Ï∂îÍ∞ÄÎêòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº Í∏∞Ï°¥Í≥º ÎèôÏùºÌïòÍ≤å Í∏∞Ï°¥Í∞í + ÏÉàÎ°úÏö¥ Í∞íÏù¥ `eventArr`Ïóê Ï∂îÍ∞ÄÎêúÎã§.

ÏôúÎÉêÌïòÎ©¥ `tasks`Í∞Ä `eventArr`Î≥¥Îã§ ÌÅ¥ ÎïåÎßå `setEvents()`Î•º Ïã§ÌñâÌïòÎùºÍ≥† ÌñàÏßÄ Ï§ëÎ≥µÎêú Í∞íÏùÄ ÎπºÎùºÍ≥† ÌïúÍ≤å ÏïÑÎãàÎãàÍπê....

Ï§ëÎ≥µ???? Í∑∏Îü¨Î©¥ Î∞∞Ïó¥ÏóêÏÑú Ï§ëÎ≥µÎêú Í∞íÏùÑ ÏóÜÏï†Ï£ºÎäî <span style="color:red">Set</span> ÏùÑ ÏÇ¨Ïö©ÌïòÎ©¥ Ïñ¥Îñ®Íπå???


## 1-3 Ïò§Î•òÌï¥Í≤∞ (feat. Set)

Í≤∞Íµ≠ Î¨∏Ï†úÎäî Ï§ëÎ≥µÎêú Í∞íÏù¥ Îì±Î°ùÎêòÍ∏∞ ÎïåÎ¨∏Ïù¥ÏóàÎã§. 

Í∑∏Î†áÎã§Î©¥ Ïö∞Î¶¨Îäî Ï§ëÎ≥µÎêú Í∞íÏùÑ ÏóÜÏï†Ï£ºÎäî SetÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥Í±∏ Ïûò ÏÇ¨Ïö©ÌïòÎ©¥ Ìï¥Í≤∞Ìï† Ïàò ÏûàÏùÑÍ±∞Îùº ÏÉùÍ∞ÅÌñàÎã§.

```swift
class SecondViewController: BaseViewController {
    
    var eventArr = Set<Date>()
    
    func setEvents() {

        for i in 0..<tasks.count {
            let eventDate = tasks[i].scheduleDate
            eventArr.insert(eventDate)
        }
    }
    
}

extension SecondViewController: FSCalendarDelegate, FSCalendarDataSource, FSCalendarDelegateAppearance {
    
    // ... Í∞úÏàò
    func calendar(_ calendar: FSCalendar, numberOfEventsFor date: Date) -> Int {
        
        var j = 0
        
        let tempArr = eventArr.map { DateFormatChange.shared.dateOfYearMonthDay.string(from: $0) }
        let tempArr2 = tempArr.map { DateFormatChange.shared.dateOfYearMonthDay.date(from: $0) }
        
        if tempArr2.contains(date) {
            j = 0
            for i in 0..<tasks.count {
                if tempArr2[i] == date {
                    j += 1
                }
            }
            mainView.calendar.appearance.eventDefaultColor = .systemGray3
            return j
        } else {
            return 0
        }
    }
}
```


1.  eventArrÏùÑ Array -> SetÏúºÎ°ú Î≥ÄÍ≤Ω

2.   Í∏∞Ï°¥ eventArrÏóê yyyy-MM-dd ÌòïÌÉúÎ°ú DateÍ∞íÏùÑ Î≥ÄÌôòÏãúÏºú Îã¥ÏïòÏßÄÎßå Í∑∏ÎÉ• RealmÏùò scheduleDateÎ•º Í∑∏ÎåÄÎ°ú Îã¥Ïùå
	- ÎßåÏïΩ Î≥ÄÌôòÏãúÏºúÏÑú Îã¥ÏúºÎ©¥ day Îã®ÏúÑÎ°ú Ï§ëÎ≥µÎêúÍ≤å Îã§ ÏóÜÏñ¥ÏßÄÍ∏∞ ÎïåÎ¨∏Ïóê Ïä§ÏºÄÏ•¥ Îì±Î°ùÏù¥ Ï†úÎåÄÎ°ú ÏïàÏù¥Î£®Ïñ¥Ïßà Í≤ÉÏûÑ
	- ÎïåÎ¨∏Ïóê Ï¥àÍπåÏßÄ ÎÇòÏò§Îäî ScheduleDateÍ∑∏ÎåÄÎ°úÏùò Í∞íÏùÑ Îã¥Ïùå

3. numberOfEventsForÏóêÏÑú ÌòïÎ≥ÄÌôòÏùÑ ÏãúÏºúÏ£ºÍ≥† ÎπÑÍµêÌõÑÏóê ... Ïùò Í∞úÏàòÎ•º Î¶¨ÌÑ¥ÏãúÏºúÏ§å


Ïù¥ÏôÄ Í∞ôÏù¥ ÎßåÎì§Ïñ¥Ï£ºÎ©¥ viewWillAppear Ìï† ÎïåÎßàÎã§ SetÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Ï§ëÎ≥µÎêú Í∞íÏù¥ Ï∂îÍ∞ÄÎêòÏßÄ ÏïäÏïÑ tasksÏóê ÏûàÎäî scheduleDateÎ•º Í∑∏ÎåÄÎ°ú  eventArrÏóê Îã¥ÏùÑ Ïàò ÏûàÍ≤åÎêúÎã§.

Í∑∏Îü¨Î©¥ Ïù∏Îç±Ïã±ÏùÑ ÌïòÎäîÎç∞ Î¨∏Ï†úÍ∞Ä ÏóÜÍ∏∞ ÎïåÎ¨∏Ïóê Ï†úÎåÄÎ°ú Îã¨Î†•Ïóê ... Ïù¥ Ï∞çÌûàÍ≤å ÎêúÎã§.

Ï≤òÏùåÏóê Î∂ÑÎ™Ö ÍªêÎã§ÌÇ§Î©¥ Ï†úÎåÄÎ°ú ... Ïù¥ Ï∞çÌòîÎã§Í≥† ÌñàÎäîÎç∞ ÏôúÎÉêÌïòÎ©¥ ÍªêÎã§ÌÇ§Í≥† Ï≤òÏùåÏúºÎ°ú ÌôîÎ©¥ÏùÑ ÎùÑÏö∞Î©¥ setEvents()Í∞Ä Ìïú Î≤àÎ∞ñÏóê Ïã§ÌñâÎêòÏßÄ ÏïäÏïòÍ∏∞ ÎïåÎ¨∏Ïóê Ï†úÎåÄÎ°ú Ïù∏Îç±Ïã±Ïù¥ ÎêòÏñ¥ÏûàÏñ¥ ...Ïù¥ Ï†úÎåÄÎ°ú ÎÇòÌÉÄÎÇú Í≤ÉÏù¥ÏòÄÎã§.

Í∑∏Î¶¨Í≥† Ïä§ÏºÄÏ•¥ÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† Ïò§Î©¥ viewWillAppearÏóê ÏùòÌï¥ setEvents()Í∞Ä Ïã§ÌñâÎêòÍ≥† eventArrÏóê Ï§ëÎ≥µÎêúÍ∞íÎì§Ïù¥ Ï∂îÍ∞ÄÎêòÏñ¥ Ï†úÎåÄÎ°ú ÎÇòÌÉÄÎÇòÏßÄ ÏïäÏùÄ Í≤ÉÏù¥ÏóàÎã§.


___

# 220917


## 1. Ï∫òÎ¶∞Îçî ÎÇ†Ïßú ÏÑ†ÌÉùÏãú Ïä§ÏºÄÏ•¥ ÌÖåÏù¥Î∏îÎ∑∞Ïóê ÎùÑÏõåÏ£ºÍ∏∞

2PageÏùò ÌÖåÏù¥Î∏îÎ∑∞ÏÖÄÏóê Ï∫òÎ¶∞ÎçîÏóêÏÑú ÏÑ†ÌÉùÌïú ÎÇ†Ïóê ÎåÄÌïú Îç∞Ïù¥ÌÑ∞Î•º ÎÇòÌÉÄÎÇ¥Í≥†Ïûê ÌñàÎã§.

Î®ºÏ†Ä ÌÅ¥Î¶≠ÌïòÎ©¥ Ìï¥Îãπ ÎÇ†ÏßúÏôÄ ÏùºÏπòÌïú Ïä§ÏºÄÏ•¥Ïù¥ Ïûò Ï∂úÎ†•ÎêòÎäî ÏßÄ ÌôïÏù∏ ÌñàÎã§.

Í∑∏Îü∞Îç∞ Ï∂úÎ†•Ïù¥ Ïûò ÎêòÏßÄ ÏïäÏïòÎã§...


### 1-1. Î¨∏Ï†úÎ∞úÏÉù(Ïù∏Îç±Ïã±?)

Î∞òÎ≥µÎ¨∏ÏùÑ ÌÜµÌï¥ tasks.countÎßåÌÅº Î∞òÎ≥µÌï¥Ï£ºÍ≥† Í±∞Í∏∞ÏóêÏÑú ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏôÄ ÌòïÎ≥ÄÌôò ÏãúÏºúÏ§Ä ÎÇ†ÏßúÍ∞Ä Í∞ôÏúºÎ©¥ Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò tasksÎ•º Î≥¥Ïó¨Ï£ºÎ©¥ ÎêòÎäîÏãùÏúºÎ°ú ÌïòÎ©¥ Í∞ÑÎã®ÌïòÍ≤å ÎÇòÌÉÄÎÇº Ïàò ÏûàÏùÑÍ±∞Îùº ÏÉùÍ∞ÅÌñàÎã§.

```swift
func calendar(_ calendar: FSCalendar, didSelect date: Date, at monthPosition: FSCalendarMonthPosition) {
	
	let eventStringArr = eventArr.map { DateFormatChange.shared.dateOfYearMonthDay.string(from: $0) }
	let eventDateArr = eventStringArr.map { DateFormatChange.shared.dateOfYearMonthDay.date(from: $0) }
	
	for i in tasks.count {
		if eventDateArr[i] == date {
			dayEventArr.append(tasks[i].scheduleDate)
		}
	}
	
	mainView.tableView.reloadData()
}
```

ÏúÑ Î©îÏÜåÎìúÎäî fscalendarÏóêÏÑú ÏßÄÏõêÌïòÎäî Î©îÏÜåÎìúÎ°ú Ï∫òÎ¶∞ÎçîÏùò ÎÇ†ÏßúÎ•º ÏûÖÎ†•ÌïòÎ©¥ Ìï¥Îãπ ÎÇ†Ïùò dateÏôÄ monthPosition(Ïù∏Îç±Ïä§)Î•º Î∞òÌôòÌï¥Ï§ÄÎã§.

Ïù¥Î†áÍ≤å ÌïòÎ©¥ Î∂ÑÎ™Ö Ïù∏Îç±Ïä§Ïóê ÎßûÏ∂∞ Ïûò scheduleÏùÑ Î±âÏñ¥ÎÇºÍ±∞ÎùºÍ≥† ÏÉùÍ∞ÅÌïú ÎÇ¥Í∞Ä Î∞îÎ≥¥ÏòÄÎã§...

ÏôúÎÉêÌïòÎ©¥ `eventDateArr[i]` Í∞Ä ÏÑ†ÌÉùÌïú dateÏôÄ Í∞ôÏùÑ ÎïåÏùò Ïù∏Îç±Ïä§ iÍ∞íÏù¥ tasksÏùò Ïù∏Îç±Ïä§Î°ú Ïì∞Ïù¥Í≤åÎêòÎäîÎç∞ Í∑∏Îü¥ Í≤ΩÏö∞ Ìï¥ÎãπÎÇ†ÏßúÏôÄ Î¨¥Ï°∞Í±¥ Í∞ôÏùÄ Ïä§ÏºÄÏ•¥Ïù¥ ÎÇòÏò¨ Ïàò ÏóÜÍ≤åÎêúÎã§.

ÏôúÎÉêÌïòÎ©¥ ÌòÑÏû¨ tasksÏùò Íµ¨Ï°∞Îäî Ïù¥Îü¨ÌïòÍ∏∞ ÎïåÎ¨∏Ïù¥Îã§.

<img width="300" alt="Ïä§ÌÅ¨Î¶∞ÏÉ∑ 2022-09-18 Ïò§ÌõÑ 12 31 21" src="https://user-images.githubusercontent.com/92367484/190884938-7e81cd28-c61a-4439-98af-32a6418202a4.png">


ÎÇ†ÏßúÏóê ÎßûÏ∂∞ Ï†ïÎ†¨Ïù¥ÎêòÏñ¥ÏûàÏúºÎ©¥ Í∞ÄÎä•Ìï† Í±∞ Í∞ôÏïòÏßÄÎßå Îç∞Ïù¥ÌÑ∞Î•º ÎÑ£ÏùÑ Îïå Î∞òÎ≥µÎ¨∏ÏúºÎ°ú ÎÑ£Ïñ¥ÏÑú Í∑∏Îü∞ÏßÄ fetchÎ•º Î∂àÎü¨Ï§òÎèÑ Ï†ïÎ†¨Ïù¥ Í≥ÑÏÜç Ïïà ÎêòÏóàÎã§...

Îëê Í∞ÄÏßÄ ÏÉùÍ∞ÅÏùÑ ÌñàÏóàÎã§.

1. RealmÏùÑ Ïñ¥ÎñªÍ≤åÎì† Îã§Ïãú DateÎ°ú Ï†ïÎ†¨Ìï¥Ï£ºÍ≥† ÏúÑÏùò Î∞òÎ≥µÎ¨∏ÏùÑ ÌÜµÌï¥ ÎÇòÌÉÄÎÇ∏Îã§.
2. RealmÏóêÏÑú filter?Î•º ÌÜµÌï¥ Í∞ÄÏ†∏ÏôÄÏÑú Î≥¥Ïó¨Ï§ÄÎã§.



### 1-2. Î¨∏Ï†ú Ìï¥Í≤∞( feat. where )

Îçî Ï¢ãÏùÄ Î∞©Î≤ïÏù¥ Î≠òÍπå Í≥†ÎØºÌïòÎã§Í∞Ä Î©òÌÜ†ÎãòÏùÑ Ï∞æÏïÑÍ∞Ä Ï°∞Ïñ∏ÏùÑ Íµ¨ÌïòÎãà Î∞òÎ≥µÎ¨∏ÏùÑ ÏûêÏ†úÌïòÍ≥† ÏøºÎ¶¨ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò§ÎäîÏãùÏúºÎ°ú ÌïòÎùºÎäî ÏÜîÎ£®ÏÖòÏùÑ Î∞õÏïòÎã§.

Í∑∏Î¶¨Í≥† RealmÏóêÏÑú whereÏù¥ÎùºÎäî Ï¢ãÏùÄ Í∏∞Îä•?ÏùÑ Î∞úÍ≤¨ÌñàÎã§.

Ï∞∏Í≥†Î°ú whereÏùÄ ÏõêÎûò RealmÏóêÏÑú ÏßÄÏõêÏùÑ ÌïòÏßÄ ÏïäÏïòÏßÄÎßå ÏµúÍ∑ºÏóê Îì§Ïñ¥ÏÑú ÏßÄÏõêÌïú Î¨∏Î≤ïÏù¥ÎùºÍ≥† ÌïúÎã§!!!

whereÏùÑ ÏÇ¨Ïö©Ìï¥ ÏÑ†ÌÉùÌïú date Í∞íÏù¥ Ìï¥Îãπ ÎÇ†Ïùò 00:00AM ~ 23:59PM ÏÇ¨Ïù¥Ïóê ÏûàÎäî Í∞íÏùÑ ÎÇòÌÉÄÎÇ¥Î©¥ ÎêòÍ≤†Îã§ ÏÉùÍ∞ÅÌñàÎã§.

```swift 
class UserScheduleRepository: UserScheduleRepositoryType {
    
    let localRealm = try! Realm()
    
    let calendar = Calendar.current
        
    func dateArr(date: Date) -> Results<UserSchedule> {
        
        return localRealm.objects(UserSchedule.self).where {
            $0.scheduleDate >= calendar.startOfDay(for: date) && $0.scheduleDate < calendar.startOfDay(for: date + 86400)
        }
    }
}
```

`calnedar.startOfDay(for:_)` Î©îÏÜåÎìúÎäî Ìï¥Îãπ ÎÇ†Ïùò 00:00AMÏùÑ ÎÇòÌÉÄÎÇ¥Ï£ºÎäî Ìï®ÏàòÏù¥Îã§.

ÎïåÎ¨∏Ïóê Ïù¥Í±∞Î≥¥Îã§ dateÍ∞íÏù¥ ÌÅ¨Í±∞ÎÇò Í∞ôÍ≥†  `calendar.startOfDay(for: date + 86400)`Îäî Îã§Ïùå ÎÇ† 00:00AMÏù¥ÎãàÍπå Í∑∏Í≤ÉÎ≥¥Îã§ ÏûëÏúºÎ©¥ 00:00AM ~ 23:59PMÏùò Î≤îÏúÑÎ•º ÌäπÏ†ïÌï† Ïàò Ïûà Í≤åÎêúÎã§.

Í∑∏Îü¨Î©¥ ÌÅ¥Î¶≠Ìïú ÎÇ†Ïùò date Í∞íÏùÑ Î∞õÏïÑ RealmÏóêÏÑú Í∑∏ ÎÇ†Ïùò schedule, startTime, endTime Îì±Îì±ÏùÑ Î≥¥Ïó¨Ï§Ñ Ïàò ÏûàÍ≤åÎêòÎäî Í≤ÉÏù¥Îã§.

Í∑∏Î¶¨Í≥† ÎÇòÏÑú Ï∫òÎ¶∞ÎçîÏóê ÏΩîÎìúÎ•º ÏûëÏÑ±Ìï¥Î≥¥Î©¥

```swift
func calendar(_ calendar: FSCalendar, didSelect date: Date, at monthPosition: FSCalendarMonthPosition) {
	
	// Îã§Ïãú ÌÅ¥Î¶≠ÌïòÎ©¥ Î∞∞Ïó¥ÏùÑ ÎπÑÏõåÏ§òÏïºÌï®(appendÍ∞Ä Í≥ÑÏÜçÎêòÍ∏∞ ÎïåÎ¨∏)
	dayEventArr = []
	
	for i in 0..<repository.dateArr(date: date).count {
		dayEventArr.append(repository.dateArr(date: date)[i].schedule)
	}
	
	mainView.tableView.reloadData()

}
```

ÌÅ¥Î¶≠ÏãúÏóê dayEventArr Î∞∞Ïó¥Ïóê Ìï¥Îãπ Ïä§ÏºÄÏ•¥ÏùÑ Îã¥ÏïÑÏ£ºÍ≤å ÎêúÎã§.

Ïù¥Î•º Í∑∏ÎåÄÎ°ú ÌÖåÏù¥Î∏îÎ∑∞ ÏÖÄÏóê ÎøåÎ†§Ï£ºÎ©¥ Îç∞Ïù¥ÌÑ∞Î•º Ï†úÎåÄÎ°ú ÎÇòÌÉÄÎÇº Ïàò ÏûàÎã§.


___

# 220919

## 0. Í∞úÏù∏ÌîºÎìúÎ∞±

- Ï∫òÎ¶∞ÎçîÏóê Ïä§ÏºÄÏ•¥ ÏàòÌñâÌïòÎ©¥ ÏÉâ ÌëúÏãú
- ÏÇ≠Ï†ú Í∏∞Îä•(ÌÖåÏù¥Î∏îÎ∑∞) -> Ïñ∏Ï†ú Ïñ¥ÎñªÍ≤å ÏñºÎßàÎÇò ÏßÄÏö∏ÏßÄ ÏÉùÍ∞ÅÌï¥Î≥¥Í∏∞
- Í≤πÏπòÎäî ÏãúÍ∞Ñ Îì±Î°ù X
- Î∞±Í∑∏ÎùºÏö¥Îìú ÏÉÅÌÉúÏóêÏÑú Ï≤¥ÌÅ¨
- ÌçºÏ¶àÍ∏∞Îä•
- Ïù¥ÎØ∏ ÏãúÍ∞ÑÏù¥ ÏßÄÎÇ¨ÏúºÎ©¥ ÏÖÄ ÏÇ≠Ï†ú Î∂àÍ∞ÄÌïòÍ≤å


## 1. ÌåÄÎπåÎî©

tableViewDelegate, tableViewDataSource Ï¶â Îç∏Î¶¨Í≤åÏù¥Ìä∏Ìå®ÌÑ¥ Ï™ΩÏùÄ ÏµúÎåÄÌïú Í∞ÄÎ≥çÍ≤å Ï≤òÎ¶¨ÌïòÎäîÍ≤å Ï¢ãÎã§.

ÏôúÎÉêÌïòÎ©¥ Î∑∞Î•º Í∑∏Î¶¥ Îïå cellForRowAt Í∞ôÏùÄ Í≤ΩÏö∞ rowÍ∞Ä ÌïòÎÇò ÏÉùÍ∏∏ ÎïåÎßàÎã§ ÏïàÏóêÏûàÎäî ÏΩîÎìúÎì§ÏùÑ Î∞òÎ≥µÌïòÍ∏∞ ÎïåÎ¨∏Ïù¥Îã§.


### 1-1. ÎÇ¥Í∞Ä ÎßâÌûå Î∂ÄÎ∂Ñ

Ïª¨Î†âÏÖòÎ∑∞Î•º ÏÇ¨Ïö©Ìï¥ Ïù¥Î≤à Îã¨ Ï¥ù ÏàòÌñâÌïú Ïä§ÏºÄÏ•¥Ïùò Í∞úÏàòÎ•º ÎÇòÌÉÄÎÇ¥Í≥† Ïã∂Ïñ¥ÏÑú ÏàòÌñâÌïú Ïä§ÏºÄÏ•¥(true)Ïù∏ Î∂ÄÎ∂ÑÏùÑ ÌïÑÌÑ∞Î°ú Í∞ÄÏ†∏ÏôÄ Î∞∞Ïó¥Ïóê Îã¥Í≥† ÎîïÏÖîÎÑàÎ¶¨Î°ú Ï≤òÎ¶¨ÌïòÍ≥†ÏûêÌñàÎäîÎç∞ Í∞íÏù¥ Ï§ëÎ≥µÎêú Î∂ÄÎ∂ÑÏùÑ Ïñ¥ÎñªÍ≤å Ï≤òÎ¶¨Ìï¥Ï§òÏïºÌï†ÏßÄ Î™®Î•¥Í≤†Îã§.

-> reduceÎ•º ÌôúÏö©Ìï¥Î≥¥ÎùºÎäî ÌîºÎìúÎ∞±ÏùÑ Î∞õÏùå


## 2. Collection ViewÏóê Îç∞Ïù¥ÌÑ∞ ÎùÑÏõåÏ£ºÍ∏∞

<img width="300" alt="·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫ 2022-09-19 ·Ñã·Ö©·Ñí·ÖÆ 3 04 44" src="https://user-images.githubusercontent.com/92367484/190958044-d3af8d8d-e293-46dd-87ee-4879d8f7a702.png">

Îã§ÏùåÍ≥º Í∞ôÏù¥ Ïª¨Î†âÏÖò Î∑∞Ïóê Ïä§ÏºÄÏ•¥Í≥º ÏàòÌñâÌöüÏàòÎ•º ÎÇòÌÉÄÎÇ¥Ï£ºÍ≥† Ïã∂ÏóàÏäµÎãàÎã§.

ÏàòÌñâÌïú Ïä§ÏºÄÏ•¥Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê Í∞ÄÏû•Î®ºÏ†Ä RealmÏóêÏÑú SuccessÏó¨Î∂ÄÍ∞Ä trueÏù∏ Í≤ÉÏùÑ ÌïÑÌÑ∞Ìï¥ÏÑú Í∞ÄÏ†∏ÏôîÏäµÎãàÎã§.

```swift
func successSchedule() -> Results<UserSchedule> {
	return localRealm.objects(UserSchedule.self).filter("scheduleSuccess == true")
}
```

Ïù¥Î†áÍ≤åÌïòÎ©¥ `["Ïö¥Îèô", "Ïö¥Îèô","Ïö¥Îèô", "Í≥µÎ∂Ä", "Í≥µÎ∂Ä", "ÎèÖÏÑú"]` Ïù¥Îü∞ÏãùÏúºÎ°ú Î∞∞Ïó¥Ïóê Îã¥ÏùÑ Ïàò ÏûàÍ≤åÎê©ÎãàÎã§.

Í∑∏Î¶¨Í≥† Ïä§ÏºÄÏ•¥, ÌöüÏàòÍ∞Ä ÏßùÏßÄÏñ¥Ï†∏ ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥Î•º ÎîïÏÖîÎÑàÎ¶¨Î°ú ÎÇòÌÉÄÎÇ¥Í≥†ÏûêÌñàÏäµÎãàÎã§.


### 2-1. ‚ùéÎ¨∏Ï†úÎ∞úÏÉù‚ùé

Î∞òÎ≥µÎ¨∏ÏùÑ ÌÜµÌï¥ Ïä§ÏºÄÏ•¥ÏùÑ Îã¥ÏïòÍ∏∞ ÎïåÎ¨∏Ïóê Ïä§ÏºÄÏ•¥Îì§Ïù¥ ÏÑúÎ°ú ÏÑûÏùº ÏàòÍ∞Ä ÏóÜÎäî Íµ¨Ï°∞ÏûÖÎãàÎã§.

ÎïåÎ¨∏Ïóê Î∞òÎ≥µÎ¨∏ÏùÑ ÌÜµÌï¥ ÏïûÏùò Ïù∏Îç±Ïä§ÏôÄ ÌòÑÏû¨ Ïù∏Îç±Ïä§Î•º ÎπÑÍµêÌïú ÌõÑ Í∞ôÏúºÎ©¥ valueÎ•º 1Ïî© Ï∂îÍ∞ÄÌï¥Ï£ºÎäî ÏãùÏúºÎ°ú ÎîïÏÖîÎÑàÎ¶¨Î•º ÎÇòÌÉÄÎÇ¥Î†§Í≥† ÏãúÎèÑÌñàÏäµÎãàÎã§.

```swift
var j = 1

for i in 0..<repository.successSchedule().count {
	if tempArr[i] == tempArr[i+1] {
		j += 1
	} else {
		scheduleCountDic.updateValue(j, forKey: repository.successSchedule()[i].schedule)
	}
}
```

Ïù¥Îü∞ÏãùÏúºÎ°ú Ï†ëÍ∑ºÏùÑ ÌñàÏäµÎãàÎã§. ÌïòÏßÄÎßå Ïù¥Î†áÍ≤åÌïòÎ©¥ Ìï¥ÎãπÎ∞∞Ïó¥Ïùò ÌÅ¨Í∏∞Î≥¥Îã§ +1 Îçî ÌÅ∞ Í≤ΩÏö∞ÏôÄ ÎπÑÍµêÌï¥ÏïºÌïòÎäîÎç∞ Í∑∏Î†áÍ≤åÎêòÎ©¥ index out of range Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïòÍ≤å Îê©ÎãàÎã§...

Í∑∏Î¶¨Í≥† Ïù¥Î†áÍ≤å Î∞òÎ≥µÎ¨∏ÏùÑ ÌÜµÌï¥ Ï†ëÍ∑ºÌïòÎäîÍ≤å Î≥ÑÎ°ú Î∞îÎûåÏßÅÌïú ÏÉùÍ∞ÅÏù¥ ÏïÑÎãàÎùºÍ≥† Îì§ÏóàÏäµÎãàÎã§... ( ÏøºÎ¶¨ÏóêÏÑú Í∞ÄÏ†∏Ïò§ÎùºÎäî Î©òÌÜ†ÎãòÏùò Ï°∞Ïñ∏Ïù¥... Îñ†Ïò¨ÎûêÏäµÎãàÎã§!!!)


### 2-2. ‚úÖ Î¨∏Ï†úÌï¥Í≤∞

```swift
for i in 0..<repository.successSchedule().count {
	scheduleCountDic.updateValue(i+1, forKey: repository.successSchedule()[i].schedule)
	print(repository.successSchedule()[i].schedule)
}

// ["Í∞ïÏïÑÏßÄ", "Í∞ïÏïÑÏßÄ", "Í∞ïÏïÑÏßÄ", "Í≥†ÏñëÏù¥", "ÏïÖÏñ¥", "ÏïÖÏñ¥"]
// ["Í∞ïÏïÑÏßÄ":3, "Í≥†ÏñëÏù¥":4, "ÏïÖÏñ¥":6] ÏúºÎ°ú ÎîïÏÖîÎÑàÎ¶¨Í∞Ä ÏóÖÎç∞Ïù¥Ìä∏Îê®
```

ÏúÑÏùò ÏΩîÎìúÎ•º ÌôúÏö©Ìï¥ÏÑú Ïñ¥ÎñªÍ≤å Ìï¥Í≤∞Ìï¥Î≥¥ÏûêÎäî Ïñ¥Î¶¨ÏÑùÏùÄ... ÏÉùÍ∞ÅÏùÑ Í≥ÑÏÜçÌïòÍ≥† ÏûàÏóàÏäµÎãàÎã§.

ÎåÄÏûÖÏùÄ ÎêòÏßÄÎßå Î∞∞Ïó¥Ïùò ÏïÑÏù¥ÌÖú Í∞úÏàòÏóê ÎßûÏ∂∞ valueÍ∞Ä ÏóÖÎç∞Ïù¥Ìä∏ ÎêòÏßÄ ÏïäÏßÄÎßå Ïñ¥ÎñªÍ≤å ÏÜêÏùÑ Î≥¥Î©¥ Ï†úÎåÄÎ°ú ÎÑ£ÏùÑ Ïàò ÏûàÏùÑÍ±∞Îùº ÏÉùÍ∞ÅÌñàÍ∏∞ ÎïåÎ¨∏Ïóê...

Ïù¥ Îïê RealmÏóê ÌïÑÌÑ∞Î•º Í±∞ÎäîÎç∞Îäî Î¨¥Ï°∞Í±¥ ÏÉÅÏàò??Îßå Îê† Í±∞ÎùºÍ≥† ÏÉùÍ∞ÅÏùÑ ÌñàÏäµÎãàÎã§...(ÏôúÏßÄ?...) Îã§ filterÏ≤òÎ¶¨Î•º " "ÏïàÏóêÏÑúÎßå Ìï¥Ï§òÏÑú Í∑∏Îû¨ÎÇòÎ¥êÏöî „Ö†„Ö†

ÌïòÏßÄÎßå filterÏóêÎèÑ Îß§Í∞úÎ≥ÄÏàòÎ•º ÎÑ£Ïñ¥ Ìï¥Îãπ Í∞íÏùÑ Î∂àÎü¨Ïò¨ Ïàò ÏûàÎã§Îäî Ïù¥ÏïºÍ∏∞Î•º ÌåÄÏõêÏóêÍ≤å Îì§ÏóàÏäµÎãàÎã§...

Í∑∏Îü¨Î©¥ Ìï¥ÎãπÏä§ÏºÄÏ•¥Ïùò ÌÇ§Í∞íÍ≥º ÌÇ§ÏóêÎßûÎäî valueÎ•º ÏøºÎ¶¨ÏóêÏÑú ÌïÑÌÑ∞Î•º ÌÜµÌï¥ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎã§Îäî Ïù¥ÏïºÍ∏∞Ï£†...

```swift
func successScheduleNumber(key: String) -> Results<UserSchedule> {
	return localRealm.objects(UserSchedule.self).filter("scheduleSuccess == true AND schedule == '\(key)'")
}
```

Î∞îÎ°ú scheduleSuccessÍ∞Ä trueÏûÑÍ≥º ÎèôÏãúÏóê Ïä§ÏºÄÏ•¥Ïù¥ ÌÇ§Í∞íÍ≥º Í∞ôÏùÄ Í≤ΩÏö∞Ïùò ÏøºÎ¶¨Î•º Î¶¨ÌÑ¥Ìï¥Ï£ºÎäî Î©îÏÜåÎìúÎ•º ÎßåÎì§ÏóàÏäµÎãàÎã§.

```swift
for i in 0..<repository.successSchedule().count {
	scheduleCountDic.updateValue(repository.successScheduleNumber(key: repository.successSchedule()[i].schedule).count, forKey: repository.successSchedule()[i].schedule)
}
```

Í∑∏ Îã§Ïùå ÎîïÏÖîÎÑàÎ¶¨Ïóê ÌÇ§Í∞íÍ≥º Î∞∏Î•òÎ•º Îã¥ÏïÑÏ£ºÏóàÏäµÎãàÎã§.

ÎßàÏßÄÎßâÏúºÎ°ú ÎßéÏù¥ ÏÑ±Í≥µÌïú Ïä§ÏºÄÏ•¥ÏùÑ ÏàúÏÑúÎåÄÎ°ú Î≥¥Ïó¨Ï£ºÍ≥† Ïã∂Ïñ¥ Ï†ïÎ†¨ÏùÑ Ìï¥Ï§Ä Îí§ ÏÖÄÏóê ÎÇòÌÉÄÎÇ¥Ï§¨ÏäµÎãàÎã§.

```swift
func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {

	// valueÏùò ÌÅ¨Í∏∞ÎåÄÎ°ú ÎîïÏÖîÎÑàÎ¶¨ Ï†ïÎ†¨
	let sortedScheduleCountDic = scheduleCountDic.sorted { (first, second) in
		return first.value > second.value
	}

	guard let cell = collectionView.dequeueReusableCell(withReuseIdentifier: SecondCollectionViewCell.reuseIdentifier, for: indexPath) as? SecondCollectionViewCell else {
		return UICollectionViewCell()
	}

	// Ï†ïÎ†¨Îêú ÎîïÏÖîÎÑàÎ¶¨Ïóê ÎßûÏ∂∞ cellÏóê Í∞í ÎÑ£Ïñ¥Ï£º„Ñ±
	cell.scheduleLabel.text = sortedScheduleCountDic[indexPath.item].key
	cell.numberOfScheduleLabel.text = "\(sortedScheduleCountDic[indexPath.item].value)"

	return cell
}
```

___

# 220920


## 0. ÌåÄÎπåÎî©

DateÍ∞íÏúºÎ°ú RealmÏóê Ï†ÄÏû•ÏùÑÌïòÎ©¥ Í∑∏Î¶¨ÎãàÏπòÏ≤úÎ¨∏ÎåÄÍ∏∞Ï§Ä(UTC)Î°ú  Ï†ÄÏû•ÎêúÎã§.

Í∑∏ÎûòÏÑú Ï†ÄÎäî ÌïúÍµ≠Í≥º ÏãúÏ∞®Í∞Ä 9ÏãúÍ∞ÑÏù¥Ïó¨ÏÑú 9ÏãúÍ∞ÑÏùÑ ÎçîÌï¥ÏÑú ÌïúÍµ≠ÏãúÍ∞ÑÏúºÎ°ú ÎßûÏ∂∞ ÎçîÌï¥Ï£ºÏóàÎã§. (RealmÏóêÎèÑ ÌïúÍµ≠ÏãúÍ∞ÑÏúºÎ°ú ÎßûÏ∂∞ Ï†ÄÏû•Îê®)


### ÌîºÎìúÎ∞± 
1. RealmÏóê ÌïúÍµ≠ ÏãúÍ∞ÑÏúºÎ°ú ÎßûÏ∂∞ Ï†ÄÏû•Ìï¥Î≤ÑÎ¶¨Î©¥ Îã§Î•∏ Íµ≠Í∞ÄÏóêÏÑú ÏÇ¨Ïö©Ìï† Îïå ÏãúÍ∞Ñ Ï°∞Ï†ïÏù¥ Ïñ¥Î†µÏßÄ ÏïäÏùÑÍπåÏöî??
2. timezoneÏùÑ  ÏÇ¨Ïö©Ìï¥ÏÑú ÎßûÏ∂∞ Î≥¥ÏÑ∏Ïöî!!!(StringÏúºÎ°ú Î∞îÍæ∏Ïñ¥Ï†ÄÏû•)


### ÎÇ¥ ÏÉùÍ∞Å
- Ïù¥Î≤§Ìä∏Î•º Ï∂îÍ∞ÄÌï† Îïå DateÍ∞íÏùÑ Í∏∞Ï§ÄÏúºÎ°ú 86400ÏùÑ ÎçîÌï¥ÏÑú Î∞òÎ≥µÎ¨∏ÏúºÎ°ú ÎÑ£Ïñ¥Ï§¨ÎäîÎç∞ Í∑∏Îüº DateÎ•º  StringÏúºÎ°ú Ï†ÄÏû•ÌïúÎã§Î©¥ Îòê Ïñ¥ÎñªÍ≤å ÎßûÏ∂∞Í∞ÄÏïºÌï†Íπå???


## UTC Date To KST Date(UTCÏóêÏÑú KST DateÍ∞íÏúºÎ°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò)
```swift
func changeToSystemTimeZone(_ date: Date, from: TimeZone, to: TimeZone = TimeZone.current) -> Date {
    let sourceOffset = from.secondsFromGMT(for: date)
    let destinationOffset = to.secondsFromGMT(for: date)
    let timeInterval = TimeInterval(destinationOffset - sourceOffset)
    return Date(timeInterval: timeInterval, since: date)
}

let myTime = "2019-11-02 02:00:00"
let dateFormatter = DateFormatter()
dateFormatter.locale = Locale(identifier: "en_US_POSIX")
dateFormatter.dateFormat = "yyyy-MM-dd HH:mm:ss"

if let date = dateFormatter.date(from: myTime), let timeZone = TimeZone(abbreviation: "UTC") {
    let offsetedDate = changeToSystemTimeZone(date, from: timeZone)
    print(date, Calendar.current.timeZone)
    print(offsetedDate, timeZone)
}

let realmTime = Date.now
print(realmTime)

let utcSecondsFromGMT = TimeZone(abbreviation: "UTC")!.secondsFromGMT(for: realmTime)
let kstSecondsFromGMT = TimeZone(abbreviation: "KST")!.secondsFromGMT(for: realmTime)
let secondsBetweenUTCAndKST = TimeInterval(kstSecondsFromGMT - utcSecondsFromGMT)
let realmTimeToKST = Date(timeInterval: secondsBetweenUTCAndKST, since: realmTime)
print(realmTimeToKST)
```



## 1. ÌÖåÏù¥Î∏îÎ∑∞Ïóê Ïä§ÏºÄÏ•¥ Ï†úÎåÄÎ°ú ÎùÑÏõåÏ£ºÍ∏∞(ÏÇΩÏßà)

Ï†úÍ∞Ä ÏÇΩÏßàÌñàÎçò?! ÎÇ¥Ïö©ÏùÄ ÎåÄÎûµÏ†ÅÏúºÎ°ú Ïù¥Îü¨Ìï©ÎãàÎã§...

FSCalendarÏóêÏÑú ÎÇ†ÏßúÎ•º ÌÅ¥Î¶≠ÌïòÎ©¥ Ìï¥Îãπ ÎÇ†ÏßúÏùò Î≤îÏúÑÏóê ÏûàÎäî Realm Í∞íÏùÑ ÌïÑÌÑ∞ÎßÅÌï¥ÏÑú dayTasksÏóê Îã¥Í≥† ÎÇòÌÉÄÎÇ¥Ï£ºÎäî Í≤ÉÏù¥ÏóàÏäµÎãàÎã§.

ÌïÑÌÑ∞ÎßÅÏùÑ Ìï† Îïå 

```swift
func filterDayTasks(date: Date) -> Results<UserSchedule> {
	
	return localRealm.objects(UserSchedule.self).where {
		$0.scheduleDate >= calendar.startOfDay(for: date) && $0.scheduleDate < calendar.startOfDay(for: date)  + 86400
	}
}
```

Îã§ÏùåÍ≥º Í∞ôÏù¥ ÌÅ¥Î¶≠Ìïú dateÎ•º Î∞õÏïÑÏôÄÏÑú ÌïÑÌÑ∞ÎßÅ Ìï¥Ï£ºÏóàÏäµÎãàÎã§...

ÌÅ¥Î¶≠Ìïú ÎÇ†ÏßúÎäî Î¨¥Ï°∞Í±¥ UTCÍ∏∞Ï§ÄÏúºÎ°ú ÎãπÏùº 15:00Î°ú Ï£ºÏóàÍ≥† `calendar.startOfDay(for:Date)` Îäî Ìï¥Îãπ ÎÇ†Ïùò 00:00ÏùÑ ÎÇòÌÉÄÎÇ¥Ï£ºÍ∏∞ ÎïåÎ¨∏Ïóê +86400ÏùÑ ÌïòÎ©¥ Îã§Ïùå ÎÇ† 00:00ÏùÑ ÌäπÏ†ïÌï† Ïàò ÏûàÍ≥† Í∑∏Í≤ÉÎ≥¥Îã§ ÏûëÏúºÎ©¥ 00:00~23:59Î•º ÌäπÏ†ïÌï† Ïàò ÏûàÍ≤åÎê©ÎãàÎã§.

ÌïòÏßÄÎßå `calendar.startOfDay(for:Date)` Îäî UTCÍ∏∞Ï§ÄÏúºÎ°ú ÎÇòÌÉÄÎÇ¥Ï£ºÍ∏∞ ÎïåÎ¨∏Ïóê ÌïúÍµ≠ÏãúÍ∞ÑÎ≥¥Îã§ 9ÏãúÍ∞Ñ ÎäêÎ†∏ÏäµÎãàÎã§. Ï¶â ÌïúÍµ≠ÏãúÍ∞ÑÏúºÎ°ú ÏûêÏ†ïÏù¥Î©¥ 15:00ÏúºÎ°ú Ïù∏ÏãùÎêòÎäî Í≤ÉÏù¥Ï£†.


### 1-1. ÏÇΩÏßà(Îªò Ïßì)Ïùò ÏãúÏûë...

ÏôúÏù∏ÏßÄ Î™®Î•¥Í≤†ÏßÄÎßå ÎãπÏãú RealmÏùÑ Î¥§ÏùÑ Îïå ÎÇ†ÏßúÏôÄ ÎπÑÍµêÌï¥Î¥§ÏùÑ Îïå ÌÖåÏù¥Î∏îÎ∑∞Ïóê Ïù¥ÏÉÅÌïú Îç∞Ïù¥ÌÑ∞Î•º ÎùÑÏõåÏ§ÄÎã§Í≥† Ï∞©Í∞ÅÌñàÏäµÎãàÎã§.

Ïò§ÎäòÍ∏∞Ï§ÄÏúºÎ°ú Îã§Ïùå ÎÇ†Î∂ÄÌÑ∞ ÏõîÎßêÍπåÏßÄ Ï†ïÌï¥ÏßÑ ÏöîÏùºÏóê Ïä§ÏºÄÏ•¥Ïù¥ Îì±Î°ùÎêòÎäîÎç∞ DateÎäî ÎãπÏó∞Ìûà UTC Í∞íÏúºÎ°ú Îì§Ïñ¥Í∞ÄÍ≤†Ï£†... Í∑∏Îü¨Î©¥ Date Ïª¨ÎüºÏúºÏùò Îç∞Ïù¥ÌÑ∞Í∞Ä ÌïúÍµ≠ÏãúÍ∞ÑÌïòÍ≥§ Ïïà ÎßûÏßÄÎßå Ï†úÎåÄÎ°ú Ï†ïÌïú ÏöîÏùºÏóê Îì±Î°ùÏù¥ ÎêêÏùÑÍ±∞ÏóêÏöî...

Í∑∏Îü∞Îç∞ Ïñ¥? ÌïòÎ£®Í∞ÄÎ∞ÄÎ†∏ÎÑ§ Ï∞©Í∞ÅÌïòÍ≥†... Ïù¥Î•º ÌïúÍµ≠ÏãúÍ∞ÑÏóê ÎßûÏ∂∞Ï£ºÎ†§Í≥† ÌñàÏäµÎãàÎã§...

```swift
var now = Date() + 86400 + 3600 * 9

func filterDayTasks(date: Date) -> Results<UserSchedule> {
	
	return localRealm.objects(UserSchedule.self).where {
            $0.scheduleDate >= calendar.startOfDay(for: date) + 3600 * 9 && $0.scheduleDate < calendar.startOfDay(for: date) + 86400 + 3600 * 9
	}
}

```

9ÏãúÍ∞Ñ Ï∞®Ïù¥Í∞Ä ÎÇòÎãàÍπå Î≤îÏúÑÎ•º ÌïúÍµ≠ÏãúÍ∞Ñ Í∏∞Ï§ÄÏúºÎ°ú 00:00 ~ 23:59 ÎßûÏ∂îÍ≥† nowÏùò Í∞íÎèÑ ÌïúÍµ≠ÏãúÍ∞ÑÏùÑ Í∏∞Ï§ÄÏúºÎ°ú ÎßûÏ∂∞Ï§¨ÏäµÎãàÎã§.

Íµ≥Ïù¥ Ïù¥Î†áÍ≤å Ìï¥ Ï£ºÏßÄ ÏïäÏïÑÎèÑ Ïûò Îç∞Ïù¥ÌÑ∞Í∞Ä Îì§Ïñ¥Í∞ÄÎäîÎç∞ Ï†úÍ∞Ä Ï∞©Í∞ÅÏùÑ Ìïú Í±∞Ï£†... UTCÎ°ú Îì±Î°úÎêú Date Í∞íÏùÑ Î≥¥Í≥† Ï∫òÎ¶∞ÎçîÏóî KSTÎ°ú Îì±Î°ùÎêú Í±∏ ÎπÑÍµêÌïòÎãàÍπå... Í∞íÏù¥ ÏïàÎßûÏßÄ „Ö†„Ö†...

Ï†ÄÎ†áÍ≤å ÌïúÍµ≠ÏãúÍ∞ÑÏùÑ Í∏∞Ï§ÄÏúºÎ°ú ÎßûÏ∂∞ÎèÑ Îç∞Ïù¥ÌÑ∞Í∞Ä Ïûò ÎÇòÏò§Í∏¥ ÌïòÎäîÎç∞... ÎÇòÏ§ëÏóê Íµ≠Ï†úÎåÄÏùë ÌïòÍ±∞ÎÇò Îã§Íµ≠Ìôî??? ÏãúÌÇ¨ Îïå Î∂ÑÎ™Ö Ï¢ãÏùÄ Î∞©Î≤ïÏù¥ ÏïÑÎãêÍ±∞ Í∞ôÏïÑ Ï≤òÏùåÏúºÎ°ú ÎêòÎèåÎ†∏ÏäµÎãàÎã§...


## 2. Ïä§ÏôÄÏù¥ÌîÑ ÏÇ≠Ï†úÍ∏∞Îä•

ÌÖåÏù¥Î∏îÎ∑∞ÏóêÏÑú Ïä§ÏôÄÏù¥ÌîÑÏãú ÏÇ≠Ï†úÍ∏∞Îä•ÏùÑ ÎÑ£ÏóàÏäµÎãàÎã§.

<img width="250" alt="·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫ 2022-09-21 ·Ñã·Ö©·Ñå·Ö•·Ü´ 2 03 55" src="https://user-images.githubusercontent.com/92367484/191320460-b6c8161a-7d44-4f58-85dc-343cf556c60a.png">

Ï†úÍ∞Ä ÏÉùÍ∞ÅÌïú Î∞©Î≤ïÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.

1. ÌÅ¥Î¶≠ÏãúÏóê ÎÇòÏò§Îäî ÌïÑÌÑ∞ÎßÅÎêú daytasksÎ•º Í∞ÄÏ†∏Ïò®Îã§.
2. ÏÇ≠Ï†úÌïúÎã§.
3. Ïª¨Î†âÏÖòÎ∑∞ ÏóÖÎç∞Ïù¥Ìä∏(trueÏù∏ ÏÖÄÏùÑ ÏßÄÏõ†ÏùÑ ÏàòÎèÑ ÏûàÍ∏∞ ÎïåÎ¨∏)

```swift
// In UserScheduleRepository
func filterDayTasks(date: Date) -> Results<UserSchedule> {
	
	return localRealm.objects(UserSchedule.self).where {
		$0.scheduleDate >= calendar.startOfDay(for: date) && $0.scheduleDate < calendar.startOfDay(for: date)  + 86400
	}
}

// In SecondViewController
// Ïä§ÏôÄÏù¥ÌîÑÏãú ÏÇ≠Ï†ú 
func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCell.EditingStyle, forRowAt indexPath: IndexPath) {
	
	if editingStyle == .delete {
		repository.delete(item: dayTasks?[indexPath.row])
	}
	
	// ÏÖÄÏÇ≠Ï†úÌïòÎ©¥ Ïª¨Î†âÏÖòÎ∑∞Ïóê ÎÇòÌÉÄÎÇú count ÏóÖÎç∞Ïù¥Ìä∏
	for i in 0..<repository.successSchedule().count {
		scheduleCountDic.updateValue(repository.successScheduleNumber(key: repository.successSchedule()[i].schedule).count, forKey: repository.successSchedule()[i].schedule)
	}
	
	self.fetchRealm()
}

// ÏÑ†ÌÉùÏãú dayTasksÏóê ÏÑ†ÌÉùÌïú ÎÇ† Îç∞Ïù¥ÌÑ∞ ÌïÑÌÑ∞ÎßÅÌï¥Ï£ºÎäî Ìï®Ïàò
func calendar(_ calendar: FSCalendar, didSelect date: Date, at monthPosition: FSCalendarMonthPosition) {
	
	selectedDate = date
	
	scheduleInfo = []
	
	dayTasks = repository.filterDayTasks(date: date)
	self.fetchRealm()

	mainView.tableViewHeaderLabel.text = DateFormatChange.shared.dateOfMonth.string(from: date)
}
```****
```